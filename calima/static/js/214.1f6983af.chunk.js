(window.webpackJsonp=window.webpackJsonp||[]).push([[214],{1425:function(e,a,t){"use strict";t.r(a);var n=t(6),r=t(0),c=t.n(r),i=t(98),s=t(20),o=t(395),l=t(198),d=t(148),u=t(126),m=t(197),b=t(849),p=t(786),f=t(2),E=t(815),g=t(823),j=t(868),O=t(168),h=t(893);a.default=(e=>{const a=Object(s.c)(e=>e.globalReducer),t=Object(i.b)({defaultValues:{especies:[],isConhecimentoTransporteEntrada:!0,isConhecimentoTransporteSaida:!0,isContaPagar:!0,isContaReceber:!0,isEntrada:!0,isSaida:!0},mode:"onBlur"}),C=Object(s.b)();Object(r.useEffect)(()=>{a.globalParameter.empresa&&(P(),a.globalParameter.empresaMLF&&F())},[]);const P=()=>{const e=a.globalParameter,n=e.usuario,r=e.empresa.id;setTimeout(()=>{t.setValue("idEmpresa",r),t.setValue("idUsuario",n.id)},1e3)},F=()=>{const e=a.globalParameter.empresaMLF.referenciaAtual,n=Object(f.Mb)(Object(f.ic)(e,1)),r=Object(f.Mb)(Object(f.hc)(e));setTimeout(()=>{t.setValue("dtInicial",Object(f.tc)(n)),t.setValue("dtFinal",Object(f.tc)(r))},500)},S=e=>e.every(e=>!e),R=e=>{Object(j.f)(e,{errorFunction:e=>{Object(f.sc)(e,f.A)},thenFunction:()=>{C(Object(O.c)())}})};return c.a.createElement(f.hb,{title:"Refazer Lan\xe7amentos Cont\xe1beis",useGlobalParameter:!0,globalParameter:a.globalParameter,dependencies:[()=>Object(E.a)(a.globalParameter),()=>Object(g.a)(a.globalParameter)]},c.a.createElement(o.a,null,c.a.createElement(f.K,{formProps:t,id:"idEmpresa",hidden:!0}),c.a.createElement(f.K,{formProps:t,id:"idUsuario",hidden:!0}),c.a.createElement(l.a,null,c.a.createElement(d.a,null,c.a.createElement(f.K,{formProps:Object(n.a)(Object(n.a)({},t),{},{validation:{required:!0}}),id:"dtInicial",label:"Data Inicial",placeholder:"Informe a Data Inicial do per\xedodo que deseja refazer os lan\xe7amentos cont\xe1beis",isPrependLabel:!0,type:f.L.DATE,onChange:()=>{if(t.getValues().dtInicial){const e=Object(f.tc)(String(t.getValues().dtInicial)),a=Object(f.hc)(Object(f.gc)(e));t.setValue("dtFinal",Object(f.tc)(Object(f.Mb)(a)))}else t.setValue("dtFinal",null)}})),c.a.createElement(d.a,null,c.a.createElement(f.K,{formProps:Object(n.a)(Object(n.a)({},t),{},{validation:{required:!0}}),id:"dtFinal",label:"Data Final",placeholder:"Informe a Data Final do per\xedodo que deseja refazer os lan\xe7amentos cont\xe1beis",isPrependLabel:!0,type:f.L.DATE}))),c.a.createElement(l.a,null,c.a.createElement(d.a,null,c.a.createElement(u.a,{style:{marginBottom:"16px"}},c.a.createElement(m.a,null,c.a.createElement(b.a,null,"Filtros Adicionais"),c.a.createElement(l.a,{className:"mb-3"},c.a.createElement(d.a,null,c.a.createElement(p.a,{type:"switch",label:"Notas de Entrada",name:"isEntrada",id:"isEntrada",innerRef:t.register})),c.a.createElement(d.a,null,c.a.createElement(p.a,{type:"switch",label:"Contas a Pagar",name:"isContaPagar",id:"isContaPagar",innerRef:t.register})),c.a.createElement(d.a,null,c.a.createElement(p.a,{type:"switch",label:"Conhecimentos de Transporte - Entrada",name:"isConhecimentoTransporteEntrada",id:"isConhecimentoTransporteEntrada",innerRef:t.register}))),c.a.createElement(l.a,{className:"mb-3"},c.a.createElement(d.a,null,c.a.createElement(p.a,{type:"switch",label:"Notas de Sa\xedda",name:"isSaida",id:"isSaida",innerRef:t.register})),c.a.createElement(d.a,null,c.a.createElement(p.a,{type:"switch",label:"Contas a Receber",name:"isContaReceber",id:"isContaReceber",innerRef:t.register})),c.a.createElement(d.a,null,c.a.createElement(p.a,{type:"switch",label:"Conhecimentos de Transporte - Sa\xedda",name:"isConhecimentoTransporteSaida",id:"isConhecimentoTransporteSaida",innerRef:t.register}))),c.a.createElement(l.a,{className:"mb-3"},c.a.createElement(d.a,null,c.a.createElement(h.a,{formProps:t,id:"especies",isPrependLabel:!0,tooltipProps:{message:"Caso n\xe3o seja informado, o sistema ir\xe1 considerar todas as Esp\xe9cies"},inputSearchProps:{selectProps:{isMulti:!0}}}))))))),c.a.createElement(l.a,null,c.a.createElement(d.a,null,c.a.createElement(f.R,{handleSubmit:t.handleSubmit(e=>{const a=(()=>{const e=[];return Object(f.tb)(Object(f.Mb)(t.getValues().dtInicial,f.t),Object(f.Mb)(t.getValues().dtFinal,f.t))>0&&e.push("Data Final n\xe3o pode ser menor que a Data Inicial."),S([t.getValues().isConhecimentoTransporteEntrada,t.getValues().isConhecimentoTransporteSaida,t.getValues().isContaPagar,t.getValues().isContaReceber,t.getValues().isEntrada,t.getValues().isSaida])&&e.push("Pelo menos um tipo de nota deve ser selecionado."),e})();if(a.length>0){const e={message:c.a.createElement(f.C,{erros:a}),type:f.f.WARNING};f.ob.emit(f.a.SHOW,e)}else{const a={message:"Os lan\xe7amentos cont\xe1beis informados nas notas ser\xe3o apagados para a recontabiliza\xe7\xe3o.\nDeseja continuar?!",onOkClick:()=>R(e),type:f.f.WARNING_YES_NO};f.ob.emit(f.a.SHOW,a)}}),handleClose:()=>((a=!0)=>{Object(f.Bb)(e,e.history,a)})()})))))})},815:function(e,a,t){"use strict";function n(e){let a=null;return e.empresa||(a="Pelo menos uma empresa deve estar selecionada."),a}t.d(a,"a",function(){return n})},823:function(e,a,t){"use strict";function n(e){let a=null;return e.empresaMLF||(a="A empresa fiscal da empresa selecionada deve estar configurada. Para configurar acesse:\nM\xf3dulo Fiscal > Manuten\xe7\xe3o > Configura\xe7\xf5es > Empresa"),a}t.d(a,"a",function(){return n})},849:function(e,a,t){"use strict";var n=t(3),r=t(9),c=t(0),i=t.n(c),s=t(1),o=t.n(s),l=t(8),d=t.n(l),u=t(5),m={tag:u.q,className:o.a.string,cssModule:o.a.object},b=function(e){var a=e.className,t=e.cssModule,c=e.tag,s=Object(r.a)(e,["className","cssModule","tag"]),o=Object(u.m)(d()(a,"card-title"),t);return i.a.createElement(c,Object(n.a)({},s,{className:o}))};b.propTypes=m,b.defaultProps={tag:"div"},a.a=b},868:function(e,a,t){"use strict";t.d(a,"b",function(){return c}),t.d(a,"c",function(){return i}),t.d(a,"d",function(){return s}),t.d(a,"f",function(){return o}),t.d(a,"g",function(){return l}),t.d(a,"a",function(){return d}),t.d(a,"e",function(){return u}),t.d(a,"h",function(){return m});var n=t(2);function r(){return Object(n.vb)("/mlf")}function c(e,a,t){Object(n.rc)(r().post("/findEspecieByModelo",{modelo:e,isImportacao:a}),t)}function i(e,a){Object(n.rc)(r().get("/findReinfCFOPConfig/".concat(e)),a)}function s(e,a){Object(n.rc)(r().get("/getLivroFolhaMLF/".concat(e)),a)}function o(e,a){Object(n.rc)(r().post("/refazerLancamentosContabeis",e),a)}function l(e,a){Object(n.rc)(r().post("/refazerLancamentosReinf",e),a)}function d(e,a){Object(n.rc)(r().get("/findConfigReinfEmpresa/".concat(e)),a)}function u(e,a){Object(n.rc)(r().post("/importarIntegracaoFiscalContabil",e),a)}function m(e,a,t){Object(n.rc)(r().post("/validarIE",{inscricaoEstadual:e,unidadeFederacao:a}),t)}},876:function(e,a,t){"use strict";t.d(a,"a",function(){return n});const n="br.com.projetusinformatica.calima.ger.model.dto.especie"},893:function(e,a,t){"use strict";var n=t(6),r=t(0),c=t.n(r),i=t(2),s=t(876);a.a=(e=>c.a.createElement(i.K,Object.assign({},e,{isPrependLabel:!0,inputSearchProps:Object(n.a)(Object(n.a)({},e.inputSearchProps),{},{columns:[{dataField:"abreviacao",text:"Abrevia\xe7\xe3o"},{dataField:"descricao",text:"Descri\xe7\xe3o"}],dtoClassName:s.a,searchViewId:"EspecieSearchView"}),label:"Esp\xe9cie",placeholder:"Informe a Esp\xe9cie",type:i.L.INPUT_SEARCH})))}}]);
//# sourceMappingURL=214.1f6983af.chunk.js.map