(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{1126:function(e,t,a){},1503:function(e,t,a){"use strict";a.r(t);var o=a(6),r=a(0),n=a.n(r),i=a(98),l=a(19),c=a(198),s=a(148),d=a(2),u=a(945),m=(a(1126),a(12)),b=a(888),p=a(862),C=a(834),h=a(903);const g={historico:null,historicoVariavel:null,indice:null,lotePadraoLancamento:null};var f=e=>{const t=Object(i.b)({defaultValues:e.selectedItem||g,mode:"onBlur"}),a={errors:t.errors,getValues:t.getValues,register:t.register,setValue:t.setValue,triggerValidation:t.triggerValidation};return n.a.createElement(d.v,{handleSubmit:e.handleSubmit,handleCancel:e.handleCancel,formProps:a,validateExtras:e=>{const t=[];return null===e.historico&&Object(d.Yb)(e.historicoVariavel)&&t.push("\xc9 necess\xe1rio haver pelo menos um Hist\xf3rico Padr\xe3o ou Vari\xe1vel para o lan\xe7amento"),t}},n.a.createElement(d.K,{formProps:a,hidden:!0,id:"indice"}),n.a.createElement(c.a,null,n.a.createElement(s.a,null,n.a.createElement(h.a,{id:"historico",formProps:a}))),n.a.createElement(c.a,null,n.a.createElement(s.a,null,n.a.createElement(d.K,{formProps:Object(o.a)(Object(o.a)({},a),{},{validation:{maxLength:500}}),id:"historicoVariavel",isPrependLabel:!0,label:"Hist\xf3rico Vari\xe1vel",placeholder:"Informe o Hist\xf3rico Vari\xe1vel",type:d.L.TEXT_AREA}))))};const O={centroCustoCredito:null,centroCustoDebito:null,historico:null,lotePadrao:null,planoContaCredito:null,planoContaDebito:null};var j=e=>{const t=Object(i.b)({defaultValues:e.selectedItem||O,mode:"onBlur"}),a=Object(r.useState)(null),o=Object(m.a)(a,2),u=o[0],h=o[1],g=Object(r.useState)(!1),j=Object(m.a)(g,2),V=j[0],P=j[1],E=Object(l.c)(e=>e.globalReducer).globalParameter,v=E.grupoPlanoConta,D=v.digitoAtivo,x=v.digitoPassivo,L=v.digitoReceita,S=v.digitoDespesa;Object(r.useEffect)(()=>{if(!Object(d.Yb)(E.empresaMCG)){const e=E.empresaMCG.idMcgLancamentoConfig;Object(d.Lb)({id:e},b.a,{errorFunction:e=>{Object(d.tc)(e,d.A)},thenFunction:e=>{Y(e),N(e)}})}},[]),Object(r.useEffect)(()=>{F()},[t.getValues().historico]);const Y=e=>{1===e.historico?h(!0):h(!1)},N=e=>{e.utilizarCentroCusto&&P(!0)},w=e=>{Object(d.Yb)(t.getValues().planoContaCredito)&&Object(d.Yb)(t.getValues().planoContaDebito)&&e.push("Informe ao menos uma conta de D\xe9bito ou Cr\xe9dito"),Object(d.Yb)(t.getValues().planoContaCredito)||Object(d.Yb)(t.getValues().planoContaDebito)||t.getValues().planoContaCredito.id===t.getValues().planoContaDebito.id&&e.push("As Contas de D\xe9bito e Cr\xe9dito n\xe3o podem ser iguais")},A=e=>{V&&(Object(d.Yb)(t.getValues().centroCustoCredito)||Object(d.Yb)(t.getValues().centroCustoDebito))&&(Object(d.Yb)(t.getValues().planoContaDebito)||t.getValues().planoContaDebito.conta.charAt(0)!==D&&t.getValues().planoContaDebito.conta.charAt(0)!==x&&e.push("Centro de Custo de D\xe9bito n\xe3o pode estar em branco"),Object(d.Yb)(t.getValues().planoContaCredito)||t.getValues().planoContaCredito.conta.charAt(0)!==D&&t.getValues().planoContaCredito.conta.charAt(0)!==x&&e.push("Centro de Custo de Credito n\xe3o pode estar em branco"))},I=e=>{Object(d.Yb)(t.getValues().historico)?e.push("\xc9 necess\xe1rio haver pelo menos um Hist\xf3rico Padr\xe3o ou Vari\xe1vel para o lan\xe7amento"):function(e){let t=!1;for(let a=0;a<e.length-1;a++){const o=e[a];for(let r=a+1;r<e.length;r++){const a=e[r];Object(d.Yb)(o.historico)||Object(d.Yb)(a.historico&&!Object(d.Yb)(o.historicoVariavel)===!Object(d.Yb)(a.historicoVariavel))||o.historico.id===a.historico.id&&o.historicoVariavel===a.historicoVariavel&&(t=!0)}}return t}(t.getValues().historico)&&e.push("As descri\xe7\xf5es do campo Hist\xf3rico Vari\xe1vel devem ser diferentes")};const F=()=>{const e=t.getValues().historico;if(!Object(d.Yb)(e))for(let t=0;t<e.length;t++)Object(d.Yb)(e[t].indice)&&(e[t].indice=t)};return n.a.createElement(d.v,{handleSubmit:e.handleSubmit,handleCancel:e.handleCancel,formProps:t,validateExtras:()=>{const e=[];return w(e),A(e),I(e),e}},n.a.createElement(c.a,null,n.a.createElement(s.a,null,n.a.createElement(C.a,{id:"planoContaDebito",formProps:t,label:"D\xe9bito",onChange:()=>{if(!Object(d.Yb)(t.getValues().planoContaDebito)&&t.getValues().planoContaDebito.conta.charAt(0)===L){const e={message:"Deseja realmente informar uma Conta de Receita para D\xe9bito?",onNoClick:()=>{t.setValue("planoContaDebito",null),t.triggerValidation()},type:d.f.WARNING_YES_NO};d.pb.emit(d.a.SHOW,e)}}}))),n.a.createElement(c.a,null,n.a.createElement(s.a,null,n.a.createElement(p.a,{id:"centroCustoDebito",formProps:t,label:"Centro de Custo D\xe9bito"}))),n.a.createElement(c.a,null,n.a.createElement(s.a,null,n.a.createElement(C.a,{id:"planoContaCredito",formProps:t,label:"Cr\xe9dito",onChange:()=>{if(!Object(d.Yb)(t.getValues().planoContaCredito)&&t.getValues().planoContaCredito.conta.charAt(0)===S){const e={message:"Deseja realmente informar uma Conta de Despesa para Cr\xe9dito?",onNoClick:()=>{t.setValue("planoContaCredito",null),t.triggerValidation()},type:d.f.WARNING_YES_NO};d.pb.emit(d.a.SHOW,e)}}}))),n.a.createElement(c.a,null,n.a.createElement(s.a,null,n.a.createElement(p.a,{id:"centroCustoCredito",formProps:t,label:"Centro de Custo Cr\xe9dito"}))),n.a.createElement(c.a,null,n.a.createElement(s.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,null,n.a.createElement(d.w,Object.assign({},e,{columns:[{dataField:"historico.codigo",sort:!0,text:"C\xf3digo"},{dataField:"historico.descricao",sort:!0,text:"Descri\xe7\xe3o"},{dataField:"historicoVariavel",text:"Hist\xf3rico Vari\xe1vel"}],detailView:f,detailViewSize:"large",formProps:t,keyField:"rowIndex",propName:"historico",title:"Hist\xf3ricos",onBeforeAdd:e=>{const a={async:!1};if(!u&&t.getValues().historico&&t.getValues().historico.length>0){const e={message:"A configura\xe7\xe3o atual dos Hist\xf3ricos para os Lan\xe7amentos Padr\xf5es \xe9 de um \xfanico hist\xf3rico.\nJ\xe1 existe um ou mais hist\xf3ricos na listagem, apenas a edi\xe7\xe3o dos hist\xf3ricos j\xe1 cadastrados ser\xe1 poss\xedvel.\nPara incluir novos hist\xf3ricos na listagem acesse: Manuten\xe7\xe3o> Configura\xe7\xe3o> Lan\xe7amentos. E altere o campo hist\xf3rico para V\xe1rios Lan\xe7amentos.",type:d.f.INFORMATION};d.pb.emit(d.a.SHOW,e),a.async=!0}return a}})))))))};t.default=(e=>{const t=Object(d.Ub)(e),a=Object(i.b)({defaultValues:t,mode:"onBlur"}),m=Object(l.c)(e=>e.globalReducer).globalParameter;Object(r.useEffect)(()=>{if(m.empresa){const e=m.grupoPlanoConta.id;setTimeout(()=>{a.setValue("grupoPlanoConta",{id:e},!0)},800)}},[]);const b=[{dataField:"planoContaDebito.conta",sort:!0,text:"Conta D\xe9bito"},{dataField:"centroCustoDebito.descricao",sort:!0,text:"Centro de Custo D\xe9bito"},{dataField:"planoContaCredito.conta",sort:!0,text:"Conta Cr\xe9dito"},{dataField:"centroCustoCredito.descricao",sort:!0,text:"Centro de Custo Cr\xe9dito"},{dataField:"historico",formatter:(e,t)=>t.historico?t.historico.map(e=>{let t="";return e.historico&&!Object(d.Yb)(e.historico.descricao)&&(t=t.concat("".concat(e.historico.descricao," "))),Object(d.Yb)(e.historicoVariavel)||(t=t.concat("".concat(e.historicoVariavel," "))),t}):"",text:"Hist\xf3rico"}],p=()=>{let e=0;return a.getValues().lotePadraoLancamento.forEach(t=>{null!==t.planoContaCredito&&null!==t.planoContaDebito&&e++}),e>0},C=(e,t)=>{if(!Object(d.Yb)(m.empresaMCG)){const a=m.empresaMCG.idMcgLancamentoConfig;if(Object(d.Yb)(a)){const e={message:"N\xe3o existe configura\xe7\xe3o padr\xe3o de Lan\xe7amentos. Para realizar a configura\xe7\xe3o acesse: Manuten\xe7\xe3o > Configura\xe7\xf5es > Empresa.",type:d.f.WARNING};d.pb.emit(d.a.SHOW,e)}else t(e)}return{async:!0}};return n.a.createElement(d.ib,{title:"Manuten\xe7\xe3o de Lan\xe7amentos Padr\xf5es",useGlobalParameter:!0,globalParameter:m,wikiId:2200},n.a.createElement(d.B,{formProps:a,editViewProps:e,dtoClassName:u.a,validateExtras:e=>{const t=[];return Object(d.Yb)(e.lotePadraoLancamento)&&t.push("Inclua ao menos um lan\xe7amento para salvar"),!Object(d.Yb)(e.lotePadraoLancamento)&&e.lotePadraoLancamento.length>1&&p()&&t.push("O lan\xe7amento de partida dobrada deve ser o \xfanico do lote."),t}},n.a.createElement(d.K,{formProps:a,id:"grupoPlanoConta.id",hidden:!0}),n.a.createElement(c.a,null,n.a.createElement(s.a,null,n.a.createElement(d.K,{formProps:Object(o.a)(Object(o.a)({},a),{},{validation:Object(o.a)({},Object(d.gc)(0,6))}),id:"codigo",isPrependLabel:!0,label:"C\xf3digo",labelWidth:100,placeholder:"Informe o C\xf3digo.",tooltipProps:{message:"Preenchimento Opcional - Codifica\xe7\xe3o Autom\xe1tica"},type:d.L.NUMBER})),n.a.createElement(s.a,null,n.a.createElement(d.K,{formProps:Object(o.a)(Object(o.a)({},a),{},{validation:{maxLength:60,required:!0}}),id:"descricao",isPrependLabel:!0,inputProps:{autoFocus:!0},label:"Descri\xe7\xe3o",labelWidth:100,placeholder:"Informe a Descri\xe7\xe3o."}))),n.a.createElement(c.a,null,n.a.createElement(s.a,null,n.a.createElement(d.w,Object.assign({},e,{columns:b,detailView:j,detailViewSize:"large",formProps:a,keyField:"rowIndex",onBeforeAdd:e=>C(null,e),onBeforeEdit:C,propName:"lotePadraoLancamento",title:"Lan\xe7amentos"}))))))})},834:function(e,t,a){"use strict";var o=a(6),r=a(0),n=a.n(r),i=a(19),l=a(2),c=a(836);t.a=(e=>{const t=Object(i.c)(e=>e.globalReducer);return n.a.createElement(l.K,Object.assign({},e,{isPrependLabel:!0,searchViewProps:Object(o.a)(Object(o.a)({},e.searchViewProps),{},{filtroContaResultado:e.filtroContaResultado,hideExtraFields:!0,useDefaultSelectRow:!0}),inputSearchProps:Object(o.a)(Object(o.a)({},e.inputSearchProps),{},{columns:[{dataField:"conta",text:"Conta"},{dataField:"analitica",text:"Anal\xedtica"},{dataField:"codigoReduzido",text:"C.R."},{dataField:"descricao",text:"Descri\xe7\xe3o"}],dtoClassName:c.a,searchExpressions:()=>{const a=[];return e.analitica&&a.push({alias:"c",conditionalGroup:"c_",fieldName:"analitica",value:!0}),e.sintetica&&a.push({alias:"c",conditionalGroup:"c_",fieldName:"analitica",value:!1}),e.filtroContaResultado&&e.filtroContaResultado.forEach(e=>{a.push(e)}),[{conditionalGroup:"g_",expressions:a,fieldName:"grupoPlanoConta.id",value:e.idGrupoPlanoConta||t.globalParameter.grupoPlanoConta.id}]},searchViewId:"PlanoContaSearchView"}),label:e.label?e.label:"Plano de Contas",placeholder:e.placeholder?e.placeholder:"Informe o Plano de Contas",type:l.L.INPUT_SEARCH}))})},836:function(e,t,a){"use strict";a.d(t,"a",function(){return o});const o="br.com.projetusinformatica.calima.ger.model.dto.planoconta"},853:function(e,t,a){"use strict";a.d(t,"a",function(){return o});const o="br.com.projetusinformatica.calima.ger.model.dto.centrocusto"},862:function(e,t,a){"use strict";var o=a(6),r=a(0),n=a.n(r),i=a(2),l=a(853);t.a=(e=>n.a.createElement(i.K,Object.assign({},e,{isPrependLabel:!0,inputSearchProps:Object(o.a)(Object(o.a)({},e.inputSearchProps),{},{columns:[{dataField:"codigo",text:"C\xf3digo"},{dataField:"descricao",text:"Descri\xe7\xe3o"}],dtoClassName:l.a,searchViewId:"CentroCustoSearchView"}),label:e.label?e.label:"Centro de Custo",placeholder:e.placeholder?e.placeholder:"Informe o Centro de Custo",type:i.L.INPUT_SEARCH})))},878:function(e,t,a){"use strict";a.d(t,"a",function(){return o});const o="br.com.projetusinformatica.calima.mcg.model.dto.historico"},888:function(e,t,a){"use strict";a.d(t,"a",function(){return o});const o="br.com.projetusinformatica.calima.mcg.model.dto.lancamentomcgconfig"},903:function(e,t,a){"use strict";var o=a(6),r=a(0),n=a.n(r),i=a(2),l=a(878);t.a=(e=>n.a.createElement(i.K,Object.assign({},e,{formProps:Object(o.a)({},e.formProps),isPrependLabel:!0,inputSearchProps:Object(o.a)(Object(o.a)({},e.inputSearchProps),{},{columns:[{dataField:"codigo",text:"C\xf3digo"},{dataField:"descricao",text:"Descri\xe7\xe3o"}],dtoClassName:l.a,searchViewId:"HistoricoSearchView"}),label:e.label?e.label:"Hist\xf3rico",placeholder:e.placeholder?e.placeholder:"Informe o Hist\xf3rico",type:i.L.INPUT_SEARCH})))},945:function(e,t,a){"use strict";a.d(t,"a",function(){return o});const o="br.com.projetusinformatica.calima.mcg.model.dto.lotepadrao"}}]);
//# sourceMappingURL=92.4f4272bc.chunk.js.map