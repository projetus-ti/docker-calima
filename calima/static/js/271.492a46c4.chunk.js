(window.webpackJsonp=window.webpackJsonp||[]).push([[271],{1139:function(e,a,t){},1533:function(e,a,t){"use strict";t.r(a);var r=t(6),l=t(12),n=t(0),o=t.n(n),s=t(98),i=t(19),c=t(859),d=t(198),u=t(148),m=t(2),b=t(927),p=t(257),f=t(930),E=t(99);var O=e=>{const a=Object(s.b)({mode:"onBlur"}),t=Object(n.useState)(!1),i=Object(l.a)(t,2),c=i[0],b=i[1],p=Object(n.useState)(!1),f=Object(l.a)(p,2),E=f[0],O=f[1];Object(n.useEffect)(()=>{e.selectedItem.cpf?O(!0):b(!0)},[]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,null,o.a.createElement(u.a,{className:"text-center font-weight-bold mb-2",style:{color:m.h}},"ATEN\xc7\xc3O: Este procedimento \xe9 irrevers\xedvel!")),o.a.createElement(d.a,null,o.a.createElement(u.a,{className:"text-center font-weight-bold mb-3"},"Empresa: ",e.selectedItem.label)),o.a.createElement(d.a,null,c?o.a.createElement(u.a,null,o.a.createElement(m.K,{formProps:Object(r.a)(Object(r.a)({},a),{},{validation:{required:!0}}),isPrependLabel:!0,id:"cnpj",label:"CNPJ",type:m.L.CNPJ})):null,E?o.a.createElement(u.a,null,o.a.createElement(m.K,{formProps:Object(r.a)(Object(r.a)({},a),{},{validation:{required:!0}}),isPrependLabel:!0,id:"cpf",label:"CPF",type:m.L.CPF})):null),o.a.createElement(m.R,{handleSubmit:a.handleSubmit(()=>{const t=a.getValues(),r=t.cnpj,l=t.cpf;let n="";r?r===e.selectedItem.cnpj?e.done(!0):n="O CNPJ Informado n\xe3o corresponde ao CNPJ da Empresa":l===e.selectedItem.cpf?e.done(!0):n="O CPF Informado n\xe3o corresponde ao CPF da Empresa";const o={message:n,type:m.f.ERROR};m.pb.emit(m.a.SHOW,o)}),handleClose:()=>e.done(!1),btnSubmitIcon:"check",btnSubmitLabel:"Confirmar"}))};t(1139);const j=[{dataField:"codigo",order:m.O.ASC}];a.default=(e=>{const a=Object(s.b)({mode:"onBlur"}),t=Object(i.c)(e=>e.globalReducer),v=Object(n.useState)(!1),g=Object(l.a)(v,2),P=g[0],T=g[1],C=Object(n.useState)(void 0),N=Object(l.a)(C,2),h=N[0],I=N[1];function S(e=f.a.value){const a=[],r=t.globalParameter.usuario;if(e!==f.f.value&&a.push({fieldName:"inativa",value:e!==f.a.value}),r.administrador||!r.empresas)return a;const l=r.empresas.map(e=>e.id);return l.length>0&&(a[0].expressions=[{fieldName:"id",operation:"_field in _value",value:l}]),a}Object(n.useEffect)(()=>{const e=t.globalParameter.usuario;a.register({name:"perfil"}),a.setValue("perfil",f.a.value),I(S()),e.administrador&&Object(E.d)(e,{errorFunction:e=>{Object(m.tc)(e,m.A)},thenFunction:e=>{e&&setTimeout(()=>T(!0),800)}})},[]);const F=[{dataField:"codigo",editable:!1,filter:{type:m.E.NUMBER},sort:!0,text:"C\xf3digo"},{dataField:"razaoSocial",editable:!0,filter:{type:m.E.TEXT},sort:!0,text:"Raz\xe3o Social"},{dataField:"nomeFantasia",editable:!0,filter:{type:m.E.TEXT},sort:!0,text:"Nome Fantasia"},{dataField:"cnpj",editable:!0,filter:{type:m.E.TEXT},formatter:m.tb,sort:!0,text:"CNPJ"},{dataField:"cpf",editable:!0,filter:{type:m.E.TEXT},formatter:m.vb,sort:!0,text:"CPF"},{dataField:"cei",editable:!0,filter:{type:m.E.TEXT},sort:!0,text:"CEI"},{dataField:"ie",editable:!0,filter:{type:m.E.TEXT},sort:!0,text:"IE"},{dataField:"im",editable:!0,filter:{type:m.E.TEXT},sort:!0,text:"IM"}];return o.a.createElement(m.ib,{title:"Manuten\xe7\xe3o de Empresas",wikiId:4394},P?o.a.createElement(c.a,{color:"danger",className:"text-center"},"Aten\xe7\xe3o: as Empresas em vermelho precisam ser atualizadas, pois est\xe3o com dados cadastrais inv\xe1lidos.",o.a.createElement("br",null),"Para fazer a corre\xe7\xe3o, clique em editar na Empresa ajuste os dados e salve a mesma!"):null,o.a.createElement(d.a,null,o.a.createElement(u.a,null,o.a.createElement(m.K,{id:"perfil",label:"Situa\xe7\xe3o",formProps:Object(r.a)(Object(r.a)({},a),{},{validation:{required:!0}}),isPrependLabel:!0,placeholder:"Informe quais as Empresas que deseja visualizar.",inputDropDownProps:{optionsProvider:f.d,selectProps:{isClearable:!1}},type:m.L.DROP_DOWN,onChange:e=>{I(S(e))}}))),o.a.createElement(m.Z,Object.assign({},e,e.searchDataGridProps,{columns:F,defaultSorted:j,dtoClassName:p.a,extraData:Object(m.Tb)(e,"EmpresaEditView",b.a,{removeConfirmationView:O}),searchExpressionsProps:h,rowClasses:function(e,a){if(!e.inativa&&(!Object(m.Yb)(e.cnpj)&&!Object(m.Wb)(e.cnpj)||Object(m.Yb)(e.cnpj)&&!Object(m.Xb)(e.cpf)))return"cor-empresa-erro"}})))})},859:function(e,a,t){"use strict";var r=t(3),l=t(9),n=t(20),o=t(0),s=t.n(o),i=t(1),c=t.n(i),d=t(8),u=t.n(d),m=t(5),b=t(56),p={children:c.a.node,className:c.a.string,closeClassName:c.a.string,closeAriaLabel:c.a.string,cssModule:c.a.object,color:c.a.string,fade:c.a.bool,isOpen:c.a.bool,toggle:c.a.func,tag:m.q,transition:c.a.shape(b.a.propTypes),innerRef:c.a.oneOfType([c.a.object,c.a.string,c.a.func])},f={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:Object(n.a)({},b.a.defaultProps,{unmountOnExit:!0})};function E(e){var a=e.className,t=e.closeClassName,o=e.closeAriaLabel,i=e.cssModule,c=e.tag,d=e.color,p=e.isOpen,f=e.toggle,E=e.children,O=e.transition,j=e.fade,v=e.innerRef,g=Object(l.a)(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"]),P=Object(m.m)(u()(a,"alert","alert-"+d,{"alert-dismissible":f}),i),T=Object(m.m)(u()("close",t),i),C=Object(n.a)({},b.a.defaultProps,{},O,{baseClass:j?O.baseClass:"",timeout:j?O.timeout:0});return s.a.createElement(b.a,Object(r.a)({},g,C,{tag:c,className:P,in:p,role:"alert",innerRef:v}),f?s.a.createElement("button",{type:"button",className:T,"aria-label":o,onClick:f},s.a.createElement("span",{"aria-hidden":"true"},"\xd7")):null,E)}E.propTypes=p,E.defaultProps=f,a.a=E},927:function(e,a,t){"use strict";t.d(a,"a",function(){return r});const r="br.com.projetusinformatica.calima.ger.model.dto.empresa"},930:function(e,a,t){"use strict";t.d(a,"g",function(){return r}),t.d(a,"b",function(){return l}),t.d(a,"c",function(){return n}),t.d(a,"f",function(){return o}),t.d(a,"a",function(){return s}),t.d(a,"e",function(){return i}),t.d(a,"d",function(){return c});const r={value:"TODOS",label:"Todos"},l={value:"ATIVOS",label:"Ativos"},n={value:"INATIVOS",label:"Inativos"},o={value:"TODAS",label:"Todas"},s={value:"ATIVAS",label:"Ativas"},i=[r,l,n],c=[o,s,{value:"INATIVOS",label:"Inativas"}]}}]);
//# sourceMappingURL=271.492a46c4.chunk.js.map