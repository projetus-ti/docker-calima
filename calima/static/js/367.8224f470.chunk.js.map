{"version":3,"sources":["views/pages/mho/historicoPagar/HistoricoPagarMHOEditView.tsx","dependencies/administradoraMHODependency.ts","models/dtos/mho/historicoPagarMHO.ts"],"names":["HistoricoPagarMHOEditView","props","selectedItem","getSelectedItem","globalReducer","useSelector","state","formProps","useForm","defaultValues","mode","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","summer__WEBPACK_IMPORTED_MODULE_6__","title","dependencies","hasAdministradoraMHO","globalParameter","wikiId","editViewProps","dtoClassName","CLASS_NAME","reactstrap__WEBPACK_IMPORTED_MODULE_4__","reactstrap__WEBPACK_IMPORTED_MODULE_5__","Object","C_Program_Files_x86_Jenkins_workspace_Calima_react_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__","validation","onlyNumber","id","tooltipProps","message","isPrependLabel","label","onBlur","historicoMHOExample","codigo","getValues","params","type","AlertType","ERROR","findByExample","thenFunction","result","setValue","alertManager","emit","ACTION_EVENTS","SHOW","placeholder","InputType","NUMBER","required","maxLength","inputProps","autoFocus","administradora","administradoraMHO","__webpack_require__","d","__webpack_exports__"],"mappings":"0LAuFeA,UA7D6EC,KAC1F,MAAMC,EAAeC,aAAgBF,GAC/BG,EAAgBC,YAAmCC,GAASA,EAAMF,eAClEG,EAAYC,YAA2B,CAAEC,cAAeP,EAAcQ,KAAM,WAoBlF,OACEC,EAAAC,EAAAC,cAACC,EAAA,GAAD,CACEC,MAAM,qDACNC,aAAc,CAAC,IAAMC,YAAqBb,EAAcc,kBACxDC,OAAQ,MAERR,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUP,UAAWA,EAAWa,cAAenB,EAAOoB,aAAcC,KAClEX,EAAAC,EAAAC,cAACU,EAAA,EAAD,KACEZ,EAAAC,EAAAC,cAACW,EAAA,EAAD,KACEb,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACEP,UAASkB,OAAAC,EAAA,EAAAD,QAAAC,EAAA,EAAAD,CAAA,GAAOlB,GAAP,IAAkBoB,WAAWF,OAAAC,EAAA,EAAAD,CAAA,GAAMG,aAAW,EAAG,MAC1DC,GAAG,SACHC,aAAc,CAAEC,QAAS,4DACzBC,gBAAgB,EAChBC,MAAM,YACNC,OAjCW,KACrB,MAAMC,EAAyC,CAAEC,OAAQ7B,EAAU8B,YAAYD,QAEzEE,EAAqB,CACzBP,QAAS,oGACTQ,KAAMC,IAAUC,OAGlBC,aAAcP,EAAqBb,IAAY,CAC7CqB,aAAcC,IACRA,IACFrC,EAAUsC,SAAS,SAAU,MAC7BC,KAAaC,KAAKC,IAAcC,KAAMX,QAsBlCY,YAAY,uCACZX,KAAMY,IAAUC,WAItBzC,EAAAC,EAAAC,cAACU,EAAA,EAAD,KACEZ,EAAAC,EAAAC,cAACW,EAAA,EAAD,KACEb,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACEP,UAASkB,OAAAC,EAAA,EAAAD,QAAAC,EAAA,EAAAD,CAAA,GAAOlB,GAAP,IAAkBoB,WAAY,CAAE0B,UAAU,EAAMC,UAAW,OACpEzB,GAAG,YACHG,gBAAgB,EAChBuB,WAAY,CAAEC,WAAW,GACzBvB,MAAM,kBACNiB,YAAY,uFC5EnB,SAASjC,EAAqBC,GACnC,IAAI0B,EAAS,KAOb,OANK1B,EAAgBuC,eAAeC,oBAClCd,EACE,gKAIGA,EARTe,EAAAC,EAAAC,EAAA,sBAAA5C,sCCKA0C,EAAAC,EAAAC,EAAA,sBAAAvC,IAAO,MAAMA,EAAa","file":"static/js/367.8224f470.chunk.js","sourcesContent":["import React, { FC } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useSelector } from 'react-redux';\r\nimport { RouteComponentProps } from 'react-router';\r\nimport { Col, Row } from 'reactstrap';\r\nimport {\r\n  ACTION_EVENTS,\r\n  alertManager,\r\n  AlertProps,\r\n  AlertType,\r\n  EditForm,\r\n  EditViewProps,\r\n  findByExample,\r\n  getSelectedItem,\r\n  InputGroupInline,\r\n  InputType,\r\n  onlyNumber,\r\n  WindowComponent,\r\n} from 'summer';\r\nimport { hasAdministradoraMHO } from '../../../../dependencies/administradoraMHODependency';\r\nimport { CLASS_NAME, HistoricoPagarMHO } from '../../../../models/dtos/mho/historicoPagarMHO';\r\nimport { Reducers } from '../../../../store/ducks';\r\nimport { GlobalState } from '../../../../store/ducks/global.duck';\r\n\r\ninterface HistoricoPagarMHOEditViewProps extends EditViewProps<HistoricoPagarMHO> {}\r\n\r\nconst HistoricoPagarMHOEditView: FC<HistoricoPagarMHOEditViewProps & RouteComponentProps> = props => {\r\n  const selectedItem = getSelectedItem(props);\r\n  const globalReducer = useSelector<Reducers, GlobalState>(state => state.globalReducer);\r\n  const formProps = useForm<HistoricoPagarMHO>({ defaultValues: selectedItem, mode: 'onBlur' });\r\n\r\n  const verificaCodigo = () => {\r\n    const historicoMHOExample: HistoricoPagarMHO = { codigo: formProps.getValues().codigo };\r\n\r\n    const params: AlertProps = {\r\n      message: 'Código já cadastrado. Selecione outro, ou deixe em branco para preenchimento automático.',\r\n      type: AlertType.ERROR,\r\n    };\r\n\r\n    findByExample(historicoMHOExample, CLASS_NAME, {\r\n      thenFunction: result => {\r\n        if (result) {\r\n          formProps.setValue('codigo', null);\r\n          alertManager.emit(ACTION_EVENTS.SHOW, params);\r\n        }\r\n      },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <WindowComponent\r\n      title=\"Manutenção de Histórico de Contas a Pagar\"\r\n      dependencies={[() => hasAdministradoraMHO(globalReducer.globalParameter)]}\r\n      wikiId={1109}\r\n    >\r\n      <EditForm formProps={formProps} editViewProps={props} dtoClassName={CLASS_NAME}>\r\n        <Row>\r\n          <Col>\r\n            <InputGroupInline\r\n              formProps={{ ...formProps, validation: { ...onlyNumber(0, 4) } }}\r\n              id=\"codigo\"\r\n              tooltipProps={{ message: 'Preenchimento Opcional - Codificação Automática' }}\r\n              isPrependLabel={true}\r\n              label=\"Código\"\r\n              onBlur={verificaCodigo}\r\n              placeholder=\"Informe o Código do Histórico.\"\r\n              type={InputType.NUMBER}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <InputGroupInline\r\n              formProps={{ ...formProps, validation: { required: true, maxLength: 120 } }}\r\n              id=\"descricao\"\r\n              isPrependLabel={true}\r\n              inputProps={{ autoFocus: true }}\r\n              label=\"Descrição\"\r\n              placeholder=\"Informe a Descrição do Histórico.\"\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </EditForm>\r\n    </WindowComponent>\r\n  );\r\n};\r\n\r\nexport default HistoricoPagarMHOEditView;\r\n","import { GlobalParameter } from '../models/dtos/ger/globalParameter';\r\n\r\nexport function hasAdministradoraMHO(globalParameter: GlobalParameter): string | undefined {\r\n  let result = null;\r\n  if (!globalParameter.administradora.administradoraMHO) {\r\n    result =\r\n      'A administradora deve ser configurada no módulo de Honorários. Para configurar acesse:\\n' +\r\n      'Módulo Honorários > Configurações > Administradora';\r\n  }\r\n\r\n  return result;\r\n}\r\n","import { Basic } from 'summer';\r\n\r\nexport interface HistoricoPagarMHO extends Basic {\r\n  codigo?: number;\r\n  descricao?: string;\r\n}\r\n\r\nexport const CLASS_NAME = 'br.com.projetusinformatica.calima.mho.model.dto.historicopagarmho';\r\n"],"sourceRoot":""}