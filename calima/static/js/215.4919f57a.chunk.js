(window.webpackJsonp=window.webpackJsonp||[]).push([[215],{1099:function(e,a,t){"use strict";t.d(a,"a",function(){return r});const r="br.com.projetusinformatica.calima.mlf.model.dto.configlivromlf"},1100:function(e,a,t){"use strict";t.d(a,"c",function(){return r}),t.d(a,"b",function(){return n}),t.d(a,"a",function(){return i});const r="Relat\xf3rio CIAP (Modelo C)",n="printRelatorioCIAP",i="ciaprelpass"},1400:function(e,a,t){"use strict";t.r(a),t.d(a,"default",function(){return P});var r=t(6),n=t(0),i=t.n(n),l=t(98),c=t(19),o=t(30),s=t(198),p=t(148),u=t(786),b=t(859),m=t(2),d=t(827),f=t(1099),O=t(821),j=t(828),E=t(1100);const g=Object(r.a)(Object(r.a)({},Object(d.a)(E.c,E.b,E.a,O.b.value)),{},{dtFinal:"31/12/2017",dtInicial:"01/12/2017",module:"MLF"});function P(e){const a=Object(c.c)(e=>e.globalReducer),t=Object(o.g)(),r=Object(l.b)({mode:"onBlur"}),d={idGerEmpresa:a.globalParameter.empresa.id};return Object(n.useEffect)(()=>{a.globalParameter.empresa&&Object(m.Kb)(d,f.a,{errorFunction:e=>{Object(m.tc)(e,m.A)},thenFunction:e=>{setTimeout(()=>{r.setValue("pageNumber",String(e.ciapFolha)),r.triggerValidation("pageNumber"),r.setValue("idGerEmpresa",a.globalParameter.empresa.id),r.triggerValidation("idGerEmpresa")},1e3)}})},[]),i.a.createElement(m.ib,Object.assign({},e,{title:E.c}),i.a.createElement(j.a,{formProps:r,printerData:g,history:t},i.a.createElement(m.K,{formProps:r,id:"idGerEmpresa",hidden:!0}),i.a.createElement(s.a,null,i.a.createElement(p.a,null,i.a.createElement(u.a,{type:"switch",label:"Armazenar P\xe1gina (Livro Oficial)",id:"armazenarPaginaInicial",name:"armazenarPaginaInicial",innerRef:r.register}))),a.globalParameter.empresaMLF.ciapCoeficienteCreditamentoDecimais?i.a.createElement(b.a,{variant:"danger",className:"text-center"},"Considerando ",a.globalParameter.empresaMLF.ciapCoeficienteCreditamentoDecimais," decimais no c\xe1lculo do Coeficiente de Creditamento."):null))}},821:function(e,a,t){"use strict";t.d(a,"e",function(){return r}),t.d(a,"a",function(){return n}),t.d(a,"b",function(){return i}),t.d(a,"c",function(){return l}),t.d(a,"d",function(){return c}),t.d(a,"f",function(){return o});const r={label:"",value:"0"},n={label:"",value:"1"},i={label:"",value:"2"},l={label:"",value:"3"},c={label:"",value:"4"},o={label:"",value:"6"}},823:function(e,a,t){"use strict";t.d(a,"a",function(){return r});const r={label:"Gr\xe1fico - PDF",value:"grafico"},n=[{label:"Texto - CalimaDesk",value:"texto"},r,{label:"E-mail - PDF",value:"email"}];a.b=n},827:function(e,a,t){"use strict";t.d(a,"a",function(){return i});var r=t(821),n=t(823);function i(e,a,t,i=r.e.value,l="MLF"){return{anoLabel:"Ano",classKey:t,dtFinalLabel:"Data Final",dtInicialLabel:"Data Inicial",module:l,pageNumber:"1",passObj:{},printerConfigTypeEnum:i,printerDataEmail:{},printerTypeEnum:n.a.value,refFinalLabel:"Refer\xeancia Final",refInicialLabel:"Refer\xeancia Inicial",reportEventType:a,reportSequence:!1,title:e}}},828:function(e,a,t){"use strict";var r=t(6),n=t(200),i=t(0),l=t.n(i),c=t(395),o=t(198),s=t(148),p=t(786),u=t(2),b=t(821),m=t(823),d=t(256);a.a=(e=>{Object(i.useEffect)(()=>{const a=e.printerData,t=a.printerTypeEnum,n=a.printerConfigTypeEnum;let i=Object(r.a)(Object(r.a)({},e.printerData),{},{printerTypeEnum:t&&t.length>0?t[0]:m.a.value});const l=Object(u.zb)(),c=Object(u.zb)();switch(n){case b.a.value:i=Object(r.a)(Object(r.a)({},i),{},{dtInicial:Object(u.Nb)(l.toDate())});break;case b.b.value:i=Object(r.a)(Object(r.a)({},i),{},{dtFinal:Object(u.Nb)(c.endOf("month").toDate()),dtInicial:Object(u.Nb)(l.toDate())});break;case b.c.value:i=Object(r.a)(Object(r.a)({},i),{},{referenciaInicial:Object(u.Mb)(l.toDate(),u.V)});break;case b.d.value:i=Object(r.a)(Object(r.a)({},i),{},{referenciaFinal:Object(u.Mb)(l.toDate(),u.V),referenciaInicial:Object(u.Mb)(c.toDate(),u.V)});break;case b.f.value:i=Object(r.a)(Object(r.a)({},i),{},{ano:String(l.year())})}e.formProps.reset(i)},[e.printerData.printerConfigTypeEnum,e.printerData.printerTypeEnum]);const a=l.a.createElement(u.K,{id:"dtInicial",label:e.printerData.dtInicialLabel,isPrependLabel:!0,formProps:Object(r.a)(Object(r.a)({},e.formProps),{},{validation:{required:!0}}),type:u.L.DATE}),t=e.printerData.printerConfigTypeEnum===b.a.value?a:null,f=e.printerData.printerConfigTypeEnum===b.b.value?l.a.createElement(l.a.Fragment,null,a,l.a.createElement(u.K,{id:"dtFinal",label:e.printerData.dtFinalLabel,isPrependLabel:!0,formProps:Object(r.a)(Object(r.a)({},e.formProps),{},{validation:{required:!0}}),type:u.L.DATE})):null,O=l.a.createElement(u.K,{id:"refInicial",label:e.printerData.refInicialLabel,isPrependLabel:!0,formProps:Object(r.a)(Object(r.a)({},e.formProps),{},{validation:{required:!0}}),type:u.L.REFERENCE}),j=e.printerData.printerConfigTypeEnum===b.c.value?O:null,E=e.printerData.printerConfigTypeEnum===b.d.value?l.a.createElement(l.a.Fragment,null,O,l.a.createElement(u.K,{id:"refFinal",label:e.printerData.refFinalLabel,isPrependLabel:!0,formProps:Object(r.a)(Object(r.a)({},e.formProps),{},{validation:{required:!0}}),type:u.L.REFERENCE})):null,g=e.printerData.printerConfigTypeEnum===b.f.value?l.a.createElement(u.K,{id:"ano",label:e.printerData.anoLabel,isPrependLabel:!0,formProps:Object(r.a)(Object(r.a)({},e.formProps),{},{validation:{required:!0}}),inputMaskedProps:{mask:"9999"},type:u.L.MASK}):null;return l.a.createElement(c.a,{noValidate:!0},e.children,l.a.createElement(u.c,{formProps:e.formProps,firstOpen:e.extraConfigOpened||!1},l.a.createElement(u.d,{title:"Configura\xe7\xf5es adicionais do Relat\xf3rio"},l.a.createElement(u.K,{id:"title",label:"T\xedtulo",isPrependLabel:!0,placeholder:"T\xedtulo",iconAppend:"undo-alt",appendClickHandler:()=>{e.formProps.setValue("title",e.printerData.title,!0)},formProps:Object(r.a)(Object(r.a)({},e.formProps),{},{validation:{maxLength:120,minLength:5,required:!0}})}),l.a.createElement(u.K,{id:"pageNumber",label:"P\xe1gina Inicial",isPrependLabel:!0,placeholder:"P\xe1gina Inicial",formProps:Object(r.a)(Object(r.a)({},e.formProps),{},{validation:{min:0,required:!0}}),type:u.L.NUMBER}),l.a.createElement(o.a,{className:"mb-3 mt-3"},l.a.createElement(s.a,null,l.a.createElement(p.a,{type:"switch",label:"Sequenciar Relat\xf3rios",id:"reportSequence",name:"reportSequence",innerRef:e.formProps.register}))),t,f,j,E,g,l.a.createElement(u.K,{id:"printerTypeEnum",label:"Tipo de Impress\xe3o",isPrependLabel:!0,placeholder:"Selecione o tipo de impress\xe3o",formProps:Object(r.a)(Object(r.a)({},e.formProps),{},{validation:{required:!0}}),inputDropDownProps:{optionsProvider:m.b,selectProps:{isClearable:!1}},type:u.L.DROP_DOWN}))),l.a.createElement(u.R,{handleSubmit:e.formProps.handleSubmit((a,t)=>{t.preventDefault();let i=[];if(e.validateExtras&&(i=e.validateExtras(e.printerData,a)),i&&i.length){const e={message:l.a.createElement(u.C,{erros:i}),type:u.f.ERROR};u.pb.emit(u.a.SHOW,e)}else e.printerData.passObj=a,Object(u.tc)("Seu relat\xf3rio est\xe1 sendo gerado...",Object(r.a)(Object(r.a)({},u.I),{},{delay:3e3})),Object(d.c)(e.printerData,{errorFunction:e=>{Object(u.tc)(e,u.A)},thenFunction:()=>{Object(d.a)({errorFunction:e=>{Object(u.tc)(e,u.A)},thenFunction:e=>{const a=e.headers["content-disposition"],t=a.slice(0,a.lastIndexOf(";")).split("filename=")[1].replace(/"/g,"");Object(n.saveAs)(e.data,t)}})}})}),hideCancelButton:!0}))})},859:function(e,a,t){"use strict";var r=t(3),n=t(9),i=t(20),l=t(0),c=t.n(l),o=t(1),s=t.n(o),p=t(8),u=t.n(p),b=t(5),m=t(56),d={children:s.a.node,className:s.a.string,closeClassName:s.a.string,closeAriaLabel:s.a.string,cssModule:s.a.object,color:s.a.string,fade:s.a.bool,isOpen:s.a.bool,toggle:s.a.func,tag:b.q,transition:s.a.shape(m.a.propTypes),innerRef:s.a.oneOfType([s.a.object,s.a.string,s.a.func])},f={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:Object(i.a)({},m.a.defaultProps,{unmountOnExit:!0})};function O(e){var a=e.className,t=e.closeClassName,l=e.closeAriaLabel,o=e.cssModule,s=e.tag,p=e.color,d=e.isOpen,f=e.toggle,O=e.children,j=e.transition,E=e.fade,g=e.innerRef,P=Object(n.a)(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"]),v=Object(b.m)(u()(a,"alert","alert-"+p,{"alert-dismissible":f}),o),D=Object(b.m)(u()("close",t),o),L=Object(i.a)({},m.a.defaultProps,{},j,{baseClass:E?j.baseClass:"",timeout:E?j.timeout:0});return c.a.createElement(m.a,Object(r.a)({},P,L,{tag:s,className:v,in:d,role:"alert",innerRef:g}),f?c.a.createElement("button",{type:"button",className:D,"aria-label":l,onClick:f},c.a.createElement("span",{"aria-hidden":"true"},"\xd7")):null,O)}O.propTypes=d,O.defaultProps=f,a.a=O}}]);
//# sourceMappingURL=215.4919f57a.chunk.js.map