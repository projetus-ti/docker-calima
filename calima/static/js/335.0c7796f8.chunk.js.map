{"version":3,"sources":["models/dtos/mfp/gpsDiversosAnexos.ts","views/pages/mfp/gpsDiversosAnexos/GpsDiversosAnexosEditView.tsx","dependencies/empresaDependency.ts","dependencies/empresaMFPDependency.ts"],"names":["__webpack_require__","d","__webpack_exports__","CLASS_NAME","GpsDiversosAnexosEditView","props","selectedItems","getSelectedItem","globalParameter","useSelector","state","globalReducer","formProps","useForm","defaultValues","Object","C_Program_Files_x86_Jenkins_workspace_Calima_react_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__","receitaBrutaAnexoIV","receitaBrutaAnexoV","receitaBrutaAnexoVI","receitaBrutaEmpresa","mode","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","summer__WEBPACK_IMPORTED_MODULE_9__","title","useGlobalParameter","dependencies","hasEmpresa","hasEmpresaMFP","editViewProps","dtoClassName","beforePersist","formData","empresaMFP","id","referencia","hidden","reactstrap__WEBPACK_IMPORTED_MODULE_4__","reactstrap__WEBPACK_IMPORTED_MODULE_5__","validation","required","label","placeholder","isPrependLabel","type","InputType","REFERENCE","reactstrap__WEBPACK_IMPORTED_MODULE_6__","reactstrap__WEBPACK_IMPORTED_MODULE_7__","className","reactstrap__WEBPACK_IMPORTED_MODULE_8__","inputProps","min","NUMBER","result","empresa"],"mappings":"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","file":"static/js/335.0c7796f8.chunk.js","sourcesContent":["import { Basic } from 'summer';\r\nimport { EmpresaMFP } from './empresaMFP';\r\n\r\nexport interface GpsDiversosAnexos extends Basic {\r\n  referencia?: string;\r\n  receitaBrutaAnexoIV?: number;\r\n  receitaBrutaAnexoV?: number;\r\n  receitaBrutaAnexoVI?: number;\r\n  receitaBrutaEmpresa?: number;\r\n  empresaMFP?: EmpresaMFP;\r\n}\r\n\r\nexport const CLASS_NAME = 'br.com.projetusinformatica.calima.mfp.model.dto.gpsdiversosanexos';\r\n","import React, { FC } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useSelector } from 'react-redux';\r\nimport { RouteComponentProps } from 'react-router';\r\nimport { Card, CardBody, CardHeader, Col, Row } from 'reactstrap';\r\nimport { EditForm, EditViewProps, getSelectedItem, InputGroupInline, InputType, WindowComponent } from 'summer';\r\nimport { hasEmpresa } from '../../../../dependencies/empresaDependency';\r\nimport { hasEmpresaMFP } from '../../../../dependencies/empresaMFPDependency';\r\nimport { CLASS_NAME, GpsDiversosAnexos } from '../../../../models/dtos/mfp/gpsDiversosAnexos';\r\nimport { Reducers } from '../../../../store/ducks';\r\nimport { GlobalState } from '../../../../store/ducks/global.duck';\r\n\r\ninterface GpsDiversosAnexosEditViewProps extends EditViewProps<GpsDiversosAnexos> {}\r\n\r\nconst GpsDiversosAnexosEditView: FC<GpsDiversosAnexosEditViewProps & RouteComponentProps> = props => {\r\n  const selectedItems = getSelectedItem(props);\r\n  const { globalParameter } = useSelector<Reducers, GlobalState>(state => state.globalReducer);\r\n  const formProps = useForm<GpsDiversosAnexos>({\r\n    defaultValues: {\r\n      receitaBrutaAnexoIV: 0,\r\n      receitaBrutaAnexoV: 0,\r\n      receitaBrutaAnexoVI: 0,\r\n      receitaBrutaEmpresa: 0,\r\n      ...selectedItems,\r\n    },\r\n    mode: 'onBlur',\r\n  });\r\n\r\n  const beforePersist = (formData: GpsDiversosAnexos) => {\r\n    formData.empresaMFP.id = globalParameter.empresaMFP.id;\r\n    formData.empresaMFP.referencia = globalParameter.empresaMFP.referencia;\r\n  };\r\n\r\n  return (\r\n    <WindowComponent\r\n      title=\"Trabalhadores em Diversos Anexos\"\r\n      useGlobalParameter={true}\r\n      globalParameter={globalParameter}\r\n      dependencies={[() => hasEmpresa(globalParameter), () => hasEmpresaMFP(globalParameter)]}\r\n    >\r\n      <EditForm formProps={formProps} editViewProps={props} dtoClassName={CLASS_NAME} beforePersist={beforePersist}>\r\n        <InputGroupInline id=\"empresaMFP.id\" formProps={formProps} hidden={true} />\r\n        <Row>\r\n          <Col>\r\n            <InputGroupInline\r\n              formProps={{ ...formProps, validation: { required: true } }}\r\n              id=\"referencia\"\r\n              label=\"Referência\"\r\n              placeholder=\"Informe a Referência\"\r\n              isPrependLabel={true}\r\n              type={InputType.REFERENCE}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Card>\r\n          <CardHeader className=\"font-weight-bold bg-light\">Receita Bruta</CardHeader>\r\n          <CardBody>\r\n            <Row>\r\n              <Col>\r\n                <InputGroupInline\r\n                  label=\"Empresa\"\r\n                  id=\"receitaBrutaEmpresa\"\r\n                  inputProps={true}\r\n                  formProps={{ ...formProps, validation: { min: 0.01, required: true } }}\r\n                  isPrependLabel={true}\r\n                  type={InputType.NUMBER}\r\n                />\r\n              </Col>\r\n              <Col>\r\n                <InputGroupInline\r\n                  label=\"Anexo IV\"\r\n                  id=\"receitaBrutaAnexoIV\"\r\n                  inputProps={true}\r\n                  formProps={{ ...formProps, validation: { required: true } }}\r\n                  isPrependLabel={true}\r\n                  type={InputType.NUMBER}\r\n                />\r\n              </Col>\r\n              <Col>\r\n                <InputGroupInline\r\n                  label=\"Anexo V\"\r\n                  id=\"receitaBrutaAnexoV\"\r\n                  inputProps={true}\r\n                  formProps={{ ...formProps, validation: { required: true } }}\r\n                  isPrependLabel={true}\r\n                  type={InputType.NUMBER}\r\n                />\r\n              </Col>\r\n              <Col>\r\n                <InputGroupInline\r\n                  label=\"Anexo VI\"\r\n                  id=\"receitaBrutaAnexoVI\"\r\n                  inputProps={true}\r\n                  formProps={{ ...formProps, validation: { required: true } }}\r\n                  isPrependLabel={true}\r\n                  type={InputType.NUMBER}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </CardBody>\r\n        </Card>\r\n      </EditForm>\r\n    </WindowComponent>\r\n  );\r\n};\r\n\r\nexport default GpsDiversosAnexosEditView;\r\n","import { GlobalParameter } from '../models/dtos/ger/globalParameter';\r\n\r\nexport function hasEmpresa(globalParameter: GlobalParameter): string | undefined {\r\n  let result = null;\r\n  if (!globalParameter.empresa) {\r\n    result = 'Pelo menos uma empresa deve estar selecionada.';\r\n  }\r\n  return result;\r\n}\r\n","import { GlobalParameter } from '../models/dtos/ger/globalParameter';\r\n\r\nexport function hasEmpresaMFP(globalParameter: GlobalParameter): string | undefined {\r\n  let result = null;\r\n  if (!globalParameter.empresaMFP) {\r\n    result =\r\n      'A empresa selecionada não está configurada para o Módulo Folha de Pagamento. Para configurá-la acesse Manutenção > Configurações > Empresa';\r\n  }\r\n  return result;\r\n}\r\n"],"sourceRoot":""}