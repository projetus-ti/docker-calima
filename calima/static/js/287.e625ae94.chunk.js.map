{"version":3,"sources":["models/dtos/mfp/empresaESocialConfig.ts","models/enumerated/mfp/situacaoPFEsocialEnum.ts","models/enumerated/mfp/situacaoPJEsocialEnum.ts","models/enumerated/mfp/tipoAmbienteEsocialEnum.ts","views/pages/mfp/empresaEsocialConfig/EmpresaEsocialConfigView.tsx","dependencies/empresaDependency.ts","dependencies/empresaMFPDependency.ts","models/dtos/ger/responsavel.ts","views/components/ger/responsavelIS/ResponsavelIS.tsx"],"names":["CLASS_NAME","SITUACAO_PF_ESOCIAL_ENUM_VALUES","value","label","SITUACAO_PJ_ESOCIAL_ENUM_VALUES","TIPO_AMBIENTE_ESOCIAL_ENUM_VALUES","EmpresaEsocialConfigView","props","globalParameter","useSelector","state","globalReducer","empresaMFP","isPJ","empresa","tipoEmpresaPessoaFisica","_useForm","useForm","mode","reset","formProps","Object","objectWithoutProperties","useEffect","empresaESocialConfig","id","findByExample","errorFunction","mensagem","showToast","ERROR","thenFunction","result","setTimeout","setValue","react_default","a","createElement","summer_esm","title","dependencies","hasEmpresa","hasEmpresaMFP","wikiId","editViewProps","dtoClassName","validateExtras","erros","getValues","responsavel","cpf","push","hidden","Row","Col","placeholder","objectSpread2","validation","required","isPrependLabel","inputDropDownProps","optionsProvider","type","InputType","DROP_DOWN","ResponsavelIS","__webpack_require__","d","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_1___default","summer__WEBPACK_IMPORTED_MODULE_2__","assign","inputSearchProps","C_Program_Files_x86_Jenkins_workspace_Calima_react_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__","columns","dataField","text","searchViewId","INPUT_SEARCH"],"mappings":"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","file":"static/js/287.e625ae94.chunk.js","sourcesContent":["import { Basic } from 'summer';\r\nimport { Responsavel } from '../ger/responsavel';\r\nimport { EmpresaMFP } from './empresaMFP';\r\n\r\nexport interface EmpresaESocialConfig extends Basic {\r\n  empresaMFP?: EmpresaMFP;\r\n  tipoAmbiente?: string;\r\n  indSituacaoPJ?: string;\r\n  indSituacaoPF?: string;\r\n  responsavel?: Responsavel;\r\n}\r\n\r\nexport const CLASS_NAME = 'br.com.projetusinformatica.calima.mfp.model.dto.empresaesocialconfig';\r\n","export const SITUACAO_NORMAL = { value: 'SITUACAO_NORMAL', label: 'Normal' };\r\nexport const ENCERRAMENTO_ESPOLIO = { value: 'ENCERRAMENTO_ESPOLIO', label: 'Encerramento de espólio' };\r\nexport const SAIDA_PAIS = { value: 'SAIDA_PAIS', label: 'Saída do país em caráter permanente' };\r\n\r\nexport const SITUACAO_PF_ESOCIAL_ENUM_VALUES = [SITUACAO_NORMAL, ENCERRAMENTO_ESPOLIO, SAIDA_PAIS];\r\n","export const SITUACAO_NORMAL = { value: 'SITUACAO_NORMAL', label: 'Normal' };\r\nexport const EXTINCAO = { value: 'EXTINCAO', label: 'Extinção' };\r\nexport const FUSAO = { value: 'FUSAO', label: 'Fusão' };\r\nexport const CISAO = { value: 'CISAO', label: 'Cisão' };\r\nexport const INCORPORACAO = { value: 'INCORPORACAO', label: 'Incorporação' };\r\n\r\nexport const SITUACAO_PJ_ESOCIAL_ENUM_VALUES = [SITUACAO_NORMAL, EXTINCAO, FUSAO, CISAO, INCORPORACAO];\r\n","export const PRODUCAO = { value: 'PRODUCAO', label: 'Ambiente Oficial' };\r\nexport const PRODUCAO_RESTRITA = { value: 'PRODUCAO_RESTRITA', label: 'Ambiente de Teste' };\r\n\r\nexport const TIPO_AMBIENTE_ESOCIAL_ENUM_VALUES = [PRODUCAO, PRODUCAO_RESTRITA];\r\n","import React, { FC, useEffect } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useSelector } from 'react-redux';\r\nimport { RouteComponentProps } from 'react-router';\r\nimport { Col, Row } from 'reactstrap';\r\nimport { EditForm, EditViewProps, ERROR, findByExample, InputGroupInline, InputType, showToast, WindowComponent } from 'summer';\r\nimport { hasEmpresa } from '../../../../dependencies/empresaDependency';\r\nimport { hasEmpresaMFP } from '../../../../dependencies/empresaMFPDependency';\r\nimport { CLASS_NAME, EmpresaESocialConfig } from '../../../../models/dtos/mfp/empresaESocialConfig';\r\nimport { EmpresaMFP } from '../../../../models/dtos/mfp/empresaMFP';\r\nimport { SITUACAO_PF_ESOCIAL_ENUM_VALUES } from '../../../../models/enumerated/mfp/situacaoPFEsocialEnum';\r\nimport { SITUACAO_PJ_ESOCIAL_ENUM_VALUES } from '../../../../models/enumerated/mfp/situacaoPJEsocialEnum';\r\nimport { TIPO_AMBIENTE_ESOCIAL_ENUM_VALUES } from '../../../../models/enumerated/mfp/tipoAmbienteEsocialEnum';\r\nimport { Reducers } from '../../../../store/ducks';\r\nimport { GlobalState } from '../../../../store/ducks/global.duck';\r\nimport ResponsavelIS from '../../../components/ger/responsavelIS/ResponsavelIS';\r\n\r\ninterface EmpresaEsocialConfigViewProps extends EditViewProps<EmpresaESocialConfig> {}\r\n\r\nconst EmpresaEsocialConfigView: FC<EmpresaEsocialConfigViewProps & RouteComponentProps> = props => {\r\n  const { globalParameter } = useSelector<Reducers, GlobalState>(state => state.globalReducer);\r\n  const empresaMFP: EmpresaMFP = globalParameter.empresaMFP;\r\n  const isPJ = !globalParameter.empresa.tipoEmpresaPessoaFisica;\r\n  const { reset, ...formProps } = useForm<EmpresaESocialConfig>({ mode: 'onBlur' });\r\n\r\n  useEffect(\r\n    () => {\r\n      if (empresaMFP != null) {\r\n        const empresaESocialConfig: EmpresaESocialConfig = {\r\n          empresaMFP: {\r\n            id: empresaMFP.id,\r\n          },\r\n        };\r\n        findByExample(empresaESocialConfig, CLASS_NAME, {\r\n          errorFunction: (mensagem: string): void => {\r\n            showToast(mensagem, ERROR);\r\n          },\r\n          thenFunction: (result: EmpresaESocialConfig): void => {\r\n            if (result) {\r\n              reset(result);\r\n            } else {\r\n              setTimeout(() => formProps.setValue('empresaMFP.id', empresaMFP.id), 800);\r\n            }\r\n          },\r\n        });\r\n      }\r\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    []\r\n  );\r\n\r\n  function validateExtras(): string[] {\r\n    const erros = [];\r\n    if (formProps.getValues().responsavel && !formProps.getValues().responsavel.cpf) {\r\n      erros.push('É obrigatório que o responsável pelas informações da Folha de Pagamento tenha o CPF cadastrado.');\r\n    }\r\n    return erros;\r\n  }\r\n\r\n  return (\r\n    <WindowComponent\r\n      title=\"Configuração eSocial\"\r\n      dependencies={[() => hasEmpresa(globalParameter), () => hasEmpresaMFP(globalParameter)]}\r\n      wikiId={527}\r\n    >\r\n      <EditForm formProps={formProps} editViewProps={props} dtoClassName={CLASS_NAME} validateExtras={validateExtras}>\r\n        <InputGroupInline formProps={formProps} id=\"empresaMFP.id\" hidden={true} />\r\n        <Row>\r\n          <Col>\r\n            <InputGroupInline\r\n              id=\"tipoAmbiente\"\r\n              label=\"Tipo de Ambiente\"\r\n              placeholder=\"Selecione um Tipo de Ambiente\"\r\n              formProps={{ ...formProps, validation: { required: true } }}\r\n              isPrependLabel={true}\r\n              inputDropDownProps={{ optionsProvider: TIPO_AMBIENTE_ESOCIAL_ENUM_VALUES }}\r\n              type={InputType.DROP_DOWN}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        {isPJ ? (\r\n          <Row>\r\n            <Col>\r\n              <InputGroupInline\r\n                id=\"indSituacaoPJ\"\r\n                label=\"Situação\"\r\n                formProps={{ ...formProps, validation: { required: isPJ } }}\r\n                isPrependLabel={true}\r\n                inputDropDownProps={{ optionsProvider: SITUACAO_PJ_ESOCIAL_ENUM_VALUES }}\r\n                type={InputType.DROP_DOWN}\r\n              />\r\n            </Col>\r\n          </Row>\r\n        ) : (\r\n          <Row>\r\n            <Col>\r\n              <InputGroupInline\r\n                id=\"indSituacaoPF\"\r\n                label=\"Situação\"\r\n                formProps={{ ...formProps, validation: { required: !isPJ } }}\r\n                isPrependLabel={true}\r\n                inputDropDownProps={{ optionsProvider: SITUACAO_PF_ESOCIAL_ENUM_VALUES }}\r\n                type={InputType.DROP_DOWN}\r\n              />\r\n            </Col>\r\n          </Row>\r\n        )}\r\n        <Row>\r\n          <Col>\r\n            <ResponsavelIS\r\n              formProps={{ ...formProps, validation: { required: true } }}\r\n              label=\"Responsável\"\r\n              placeholder=\"Selecione um Responsável\"\r\n              id=\"responsavel\"\r\n              isPrependLabel={true}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </EditForm>\r\n    </WindowComponent>\r\n  );\r\n};\r\n\r\nexport default EmpresaEsocialConfigView;\r\n","import { GlobalParameter } from '../models/dtos/ger/globalParameter';\r\n\r\nexport function hasEmpresa(globalParameter: GlobalParameter): string | undefined {\r\n  let result = null;\r\n  if (!globalParameter.empresa) {\r\n    result = 'Pelo menos uma empresa deve estar selecionada.';\r\n  }\r\n  return result;\r\n}\r\n","import { GlobalParameter } from '../models/dtos/ger/globalParameter';\r\n\r\nexport function hasEmpresaMFP(globalParameter: GlobalParameter): string | undefined {\r\n  let result = null;\r\n  if (!globalParameter.empresaMFP) {\r\n    result =\r\n      'A empresa selecionada não está configurada para o Módulo Folha de Pagamento. Para configurá-la acesse Manutenção > Configurações > Empresa';\r\n  }\r\n  return result;\r\n}\r\n","import { Basic } from 'summer';\r\nimport { CepBairro } from './cepBairro';\r\nimport { CepLocalidade } from './cepLocalidade';\r\nimport { CepTitulo } from './cepTitulo';\r\nimport { CepUF } from './cepUF';\r\n\r\nexport interface Responsavel extends Basic {\r\n  cargo?: string;\r\n  cei?: string;\r\n  cep?: string;\r\n  cnpj?: string;\r\n  cpf?: string;\r\n  cepBairro?: CepBairro;\r\n  /** Campo referente a cidade */\r\n  cepLocalidade?: CepLocalidade;\r\n  /** tipo do logradouro ex: rua, avenida */\r\n  cepTitulo?: CepTitulo;\r\n  cepUf?: CepUF;\r\n  complemento?: string;\r\n  dataNascimento?: Date;\r\n  dataValidadeCRC?: Date;\r\n  email?: string;\r\n  /** Este campo utiliza o estadoCivilEnum */\r\n  estadoCivil?: string;\r\n  logradouro?: string;\r\n  numeroConselho?: string;\r\n  /** Este campo utiliza o nacionalidadeEnum */\r\n  nacionalidade?: string;\r\n  nome?: string;\r\n  numero?: string;\r\n  orgaoEmissor?: string;\r\n  rg?: string;\r\n  telefone?: string;\r\n  /** Este campo utiliza o responsavelTipoEnum */\r\n  tipo?: string;\r\n}\r\n\r\nexport const CLASS_NAME = 'br.com.projetusinformatica.calima.ger.model.dto.responsavel';\r\n","import React, { FC } from 'react';\r\nimport { InputGroupInline, InputProps, InputType } from 'summer';\r\nimport { CLASS_NAME } from '../../../../models/dtos/ger/responsavel';\r\n\r\nconst ResponsavelIS: FC<InputProps> = props => {\r\n  return (\r\n    <InputGroupInline\r\n      {...props}\r\n      isPrependLabel={true}\r\n      inputSearchProps={{\r\n        ...props.inputSearchProps,\r\n        columns: [\r\n          {\r\n            dataField: 'nome',\r\n            text: 'Nome',\r\n          },\r\n          {\r\n            dataField: 'cpf',\r\n            text: 'CPF',\r\n          },\r\n          {\r\n            dataField: 'cnpj',\r\n            text: 'CNPJ',\r\n          },\r\n          {\r\n            dataField: 'cei',\r\n            text: 'CEI',\r\n          },\r\n          {\r\n            dataField: 'tipo',\r\n            text: 'Tipo',\r\n          },\r\n          {\r\n            dataField: 'telefone',\r\n            text: 'Telefone',\r\n          },\r\n          {\r\n            dataField: 'email',\r\n            text: 'E-mail',\r\n          },\r\n        ],\r\n        dtoClassName: CLASS_NAME,\r\n        searchViewId: 'ResponsavelSearchView',\r\n      }}\r\n      label={props.label ? props.label : 'Responsável'}\r\n      placeholder={props.placeholder ? props.placeholder : 'Informe o Responsável'}\r\n      type={InputType.INPUT_SEARCH}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ResponsavelIS;\r\n"],"sourceRoot":""}