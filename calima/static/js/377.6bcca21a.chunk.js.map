{"version":3,"sources":["models/dtos/mcg/livroFolha.ts","views/pages/mcg/livroFolha/LivroFolhaEditView.tsx","dependencies/empresaDependency.ts","../node_modules/reactstrap/es/CardDeck.js"],"names":["CLASS_NAME","LivroFolhaEditView","props","selectedItem","getSelectedItem","_useForm","useForm","defaultValues","mode","reset","formProps","Object","objectWithoutProperties","globalReducer","useSelector","state","useEffect","caixaFolha","caixaLivro","diarioFolha","diarioGeral","diarioLivro","lalurAFolha","lalurALivro","razaoFolha","razaoLivro","empresa","globalParameter","isEmpty","livroFolha","findByExample","errorFunction","mensagem","showToast","ERROR","thenFunction","result","setTimeout","setValue","id","findLivroFolha","react_default","a","createElement","summer_esm","title","useGlobalParameter","dependencies","hasEmpresa","editViewProps","dtoClassName","validateExtras","formData","errors","Number","push","hidden","CardDeck","className","Card","style","marginBottom","borderWidth","CardHeader","CardBody","Row","Col","objectSpread2","validation","required","maxLength","hideLabel","inputProps","autoFocus","type","InputType","NUMBER","__webpack_require__","d","__webpack_exports__","_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__","_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_2___default","n","prop_types__WEBPACK_IMPORTED_MODULE_3__","prop_types__WEBPACK_IMPORTED_MODULE_3___default","classnames__WEBPACK_IMPORTED_MODULE_4__","classnames__WEBPACK_IMPORTED_MODULE_4___default","_utils__WEBPACK_IMPORTED_MODULE_5__","propTypes","tag","string","cssModule","object","Tag","attributes","classes","defaultProps"],"mappings":"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","file":"static/js/377.6bcca21a.chunk.js","sourcesContent":["import { Basic } from 'summer';\r\nimport { Empresa } from '../ger/empresa';\r\n\r\nexport interface LivroFolha extends Basic {\r\n  caixaFolha?: number;\r\n  caixaLivro?: number;\r\n  diarioFolha?: number;\r\n  diarioGeral?: number;\r\n  diarioLivro?: number;\r\n  empresa?: Empresa;\r\n  lalurAFolha?: number;\r\n  lalurALivro?: number;\r\n  razaoFolha?: number;\r\n  razaoLivro?: number;\r\n}\r\n\r\nexport const CLASS_NAME = 'br.com.projetusinformatica.calima.mcg.model.dto.livrofolha';\r\n","import React, { FC, useEffect } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useSelector } from 'react-redux';\r\nimport { RouteComponentProps } from 'react-router';\r\nimport { Card, CardBody, CardDeck, CardHeader, Col, Row } from 'reactstrap';\r\nimport {\r\n  EditForm,\r\n  EditViewProps,\r\n  ERROR,\r\n  findByExample,\r\n  getSelectedItem,\r\n  InputGroupInline,\r\n  InputType,\r\n  isEmpty,\r\n  showToast,\r\n  WindowComponent,\r\n} from 'summer';\r\nimport { hasEmpresa } from '../../../../dependencies/empresaDependency';\r\nimport { CLASS_NAME, LivroFolha } from '../../../../models/dtos/mcg/livroFolha';\r\nimport { Reducers } from '../../../../store/ducks';\r\nimport { GlobalState } from '../../../../store/ducks/global.duck';\r\n\r\ninterface LivroFolhaEditViewProps extends EditViewProps<LivroFolha> {}\r\n\r\nconst LivroFolhaEditView: FC<LivroFolhaEditViewProps & RouteComponentProps> = props => {\r\n  const selectedItem = getSelectedItem(props);\r\n  const { reset, ...formProps } = useForm<LivroFolha>({ defaultValues: selectedItem, mode: 'onBlur' });\r\n\r\n  const globalReducer = useSelector<Reducers, GlobalState>(state => state.globalReducer);\r\n\r\n  useEffect(\r\n    () => {\r\n      reset({\r\n        caixaFolha: 0,\r\n        caixaLivro: 0,\r\n        diarioFolha: 0,\r\n        diarioGeral: 0,\r\n        diarioLivro: 0,\r\n        lalurAFolha: 0,\r\n        lalurALivro: 0,\r\n        razaoFolha: 0,\r\n        razaoLivro: 0,\r\n      });\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    []\r\n  );\r\n\r\n  useEffect(\r\n    () => {\r\n      const { empresa } = globalReducer.globalParameter;\r\n      if (!isEmpty(empresa)) {\r\n        const livroFolhaExample: LivroFolha = {\r\n          empresa: {\r\n            id: empresa.id,\r\n          },\r\n        };\r\n        findLivroFolha(livroFolhaExample);\r\n      }\r\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    []\r\n  );\r\n\r\n  function findLivroFolha(livroFolha: LivroFolha): void {\r\n    findByExample(livroFolha, CLASS_NAME, {\r\n      errorFunction: mensagem => {\r\n        showToast(mensagem, ERROR);\r\n      },\r\n      thenFunction: result => {\r\n        if (result) {\r\n          reset(result);\r\n        } else {\r\n          setTimeout(() => formProps.setValue('empresa.id', livroFolha.empresa.id), 800);\r\n        }\r\n      },\r\n    });\r\n  }\r\n\r\n  const validateExtras = (formData: LivroFolha): string[] => {\r\n    const errors = [];\r\n    if (Number(formData.diarioFolha) === 1) {\r\n      errors.push('Página Inicial - Diário não pode ser igual a 1, caso não deseje configura-lá utilize 0');\r\n    }\r\n\r\n    if (Number(formData.caixaFolha) === 1) {\r\n      errors.push('Página Inicial - Caixa não pode ser igual a 1, caso não deseje configura-lá utilize 0');\r\n    }\r\n\r\n    if (Number(formData.razaoFolha) === 1) {\r\n      errors.push('Página Inicial - Razão não pode ser igual a 1, caso não deseje configura-lá utilize 0.');\r\n    }\r\n\r\n    if (Number(formData.lalurAFolha) === 1) {\r\n      errors.push(\"Página Inicial - Lalur Parte 'A' não pode ser igual a 1, caso não deseje configura-lá utilize 0\");\r\n    }\r\n    return errors;\r\n  };\r\n\r\n  return (\r\n    <WindowComponent\r\n      title=\"Manutenção Livro/Folha/Nº de Ordem\"\r\n      useGlobalParameter={true}\r\n      globalParameter={globalReducer.globalParameter}\r\n      dependencies={[() => hasEmpresa(globalReducer.globalParameter)]}\r\n    >\r\n      <EditForm formProps={formProps} editViewProps={props} dtoClassName={CLASS_NAME} validateExtras={validateExtras}>\r\n        <InputGroupInline formProps={formProps} id=\"empresa.id\" hidden={true} />\r\n        <CardDeck className=\"mb-4\">\r\n          <Card style={{ marginBottom: '16px', borderWidth: 'thin' }}>\r\n            <CardHeader className=\"font-weight-bold bg-light\">Básico</CardHeader>\r\n            <CardBody>\r\n              <Row>\r\n                <Col />\r\n                <Col className=\"font-weight-bold\">Nº Livro</Col>\r\n                <Col className=\"font-weight-bold\">Página Inicial</Col>\r\n              </Row>\r\n              <Row>\r\n                <Col>Diário</Col>\r\n                <Col>\r\n                  <InputGroupInline\r\n                    formProps={{ ...formProps, validation: { required: true, maxLength: 6 } }}\r\n                    hideLabel={true}\r\n                    id=\"diarioLivro\"\r\n                    inputProps={{ autoFocus: true }}\r\n                    type={InputType.NUMBER}\r\n                  />\r\n                </Col>\r\n                <Col>\r\n                  <InputGroupInline\r\n                    formProps={{ ...formProps, validation: { required: true, maxLength: 6 } }}\r\n                    hideLabel={true}\r\n                    id=\"diarioFolha\"\r\n                    type={InputType.NUMBER}\r\n                  />\r\n                </Col>\r\n              </Row>\r\n              <Row>\r\n                <Col>Caixa</Col>\r\n                <Col>\r\n                  <InputGroupInline\r\n                    formProps={{ ...formProps, validation: { required: true, maxLength: 6 } }}\r\n                    hideLabel={true}\r\n                    id=\"caixaLivro\"\r\n                    type={InputType.NUMBER}\r\n                  />\r\n                </Col>\r\n                <Col>\r\n                  <InputGroupInline\r\n                    formProps={{ ...formProps, validation: { required: true, maxLength: 6 } }}\r\n                    hideLabel={true}\r\n                    id=\"caixaFolha\"\r\n                    type={InputType.NUMBER}\r\n                  />\r\n                </Col>\r\n              </Row>\r\n              <Row>\r\n                <Col>Razão</Col>\r\n                <Col>\r\n                  <InputGroupInline\r\n                    formProps={{ ...formProps, validation: { required: true, maxLength: 6 } }}\r\n                    hideLabel={true}\r\n                    id=\"razaoLivro\"\r\n                    type={InputType.NUMBER}\r\n                  />\r\n                </Col>\r\n                <Col>\r\n                  <InputGroupInline\r\n                    formProps={{ ...formProps, validation: { required: true, maxLength: 6 } }}\r\n                    hideLabel={true}\r\n                    id=\"razaoFolha\"\r\n                    type={InputType.NUMBER}\r\n                  />\r\n                </Col>\r\n              </Row>\r\n              <Row>\r\n                <Col>Lalur Parte 'A'</Col>\r\n                <Col>\r\n                  <InputGroupInline\r\n                    formProps={{ ...formProps, validation: { required: true, maxLength: 6 } }}\r\n                    hideLabel={true}\r\n                    id=\"lalurALivro\"\r\n                    type={InputType.NUMBER}\r\n                  />\r\n                </Col>\r\n                <Col>\r\n                  <InputGroupInline\r\n                    formProps={{ ...formProps, validation: { required: true, maxLength: 6 } }}\r\n                    hideLabel={true}\r\n                    id=\"lalurAFolha\"\r\n                    type={InputType.NUMBER}\r\n                  />\r\n                </Col>\r\n              </Row>\r\n            </CardBody>\r\n          </Card>\r\n          <Card style={{ marginBottom: '16px', borderWidth: 'thin' }}>\r\n            <CardHeader className=\"font-weight-bold bg-light\">SPED</CardHeader>\r\n            <CardBody>\r\n              <Row>\r\n                <Col />\r\n                <Col className=\"font-weight-bold\">Nº de Ordem</Col>\r\n              </Row>\r\n              <Row>\r\n                <Col>G - Diário Geral</Col>\r\n                <Col>\r\n                  <InputGroupInline\r\n                    formProps={{ ...formProps, validation: { required: true, maxLength: 6 } }}\r\n                    hideLabel={true}\r\n                    id=\"diarioGeral\"\r\n                    type={InputType.NUMBER}\r\n                  />\r\n                </Col>\r\n              </Row>\r\n            </CardBody>\r\n          </Card>\r\n        </CardDeck>\r\n      </EditForm>\r\n    </WindowComponent>\r\n  );\r\n};\r\n\r\nexport default LivroFolhaEditView;\r\n","import { GlobalParameter } from '../models/dtos/ger/globalParameter';\r\n\r\nexport function hasEmpresa(globalParameter: GlobalParameter): string | undefined {\r\n  let result = null;\r\n  if (!globalParameter.empresa) {\r\n    result = 'Pelo menos uma empresa deve estar selecionada.';\r\n  }\r\n  return result;\r\n}\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardDeck = function CardDeck(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card-deck'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardDeck.propTypes = propTypes;\nCardDeck.defaultProps = defaultProps;\nexport default CardDeck;"],"sourceRoot":""}