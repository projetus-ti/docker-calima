{"version":3,"sources":["views/pages/mcg/report/demonstracaoResultado/DemonstracaoResultadoReportView.tsx"],"names":["DEFAULT_VALUES","Object","C_Program_Files_x86_Jenkins_workspace_Calima_react_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__","getDefaultReportBasicValues","REPORT_TITLE","acumularDRE","consolidacao","NORMAL","value","exibirFormatacaoValor","gerarCabecalhoPadraoAdministradora","imprimirInformacaoDiario","outrosResponsaveis","representante","termo","termo2","virtualization","DEFAULT_OPTIONS","getDefaultReportViewOptions","REPORT_EVENT","REFERENCE","exibirConfiguracaoDadosEmpresa","exibirSegmentacaoFolha","DemonstracaoResultadoReportView","props","globalReducer","useSelector","state","_useForm","useForm","defaultValues","mode","handleSubmit","formProps","C_Program_Files_x86_Jenkins_workspace_Calima_react_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__","_useState","useState","_useState2","C_Program_Files_x86_Jenkins_workspace_Calima_react_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","isEnabledIsMatriz","setIsEnabledIsMatriz","_useState3","_useState4","isEnabledTermoTwo","setIsEnabledTermoTwo","_useState5","_useState6","isEnabledTermoOne","setIsEnabledTermoOne","_useState7","_useState8","isEnabledInfoDiario","setIsEnabledInfoDiario","getInfoDiario","id","globalParameter","empresa","buscarConfigLivroFolhaMCG","errorFunction","mensagem","showToast","ERROR","thenFunction","result","setTimeout","setValue","diarioLivro","empresaMCG","refAtual","useEffect","matriz","getValues","matrizFilial","centralizar","propToolTip","messagem","message","placement","react__WEBPACK_IMPORTED_MODULE_3___default","a","createElement","summer__WEBPACK_IMPORTED_MODULE_12__","title","useGlobalParameter","dependencies","hasEmpresa","hasEmpresaMCG","wikiId","wikiTitle","reactstrap__WEBPACK_IMPORTED_MODULE_6__","reactstrap__WEBPACK_IMPORTED_MODULE_7__","reactstrap__WEBPACK_IMPORTED_MODULE_8__","type","onChange","modoSimplificado","unregister","label","name","innerRef","register","withTooltip","className","disabled","isImprimirTermosSeparados","inline","isAlterarDescricoes","reactstrap__WEBPACK_IMPORTED_MODULE_9__","reactstrap__WEBPACK_IMPORTED_MODULE_10__","reactstrap__WEBPACK_IMPORTED_MODULE_11__","isPrependLabel","iconAppend","labelWidth","appendClickHandler","placeholder","tooltipProps","validation","required","max","InputType","NUMBER","DATE","_components_mcg_customizacaoTermoIS_CustomizacaoTermoIS__WEBPACK_IMPORTED_MODULE_21__","searchViewProps","apenasDemonstracaoResultado","inputSearchProps","bsSize","apenasBalancoPatrimonial","inputDropDownProps","optionsProvider","CONSOLIDAR_ENUM_VALUES","selectProps","isClearable","DROP_DOWN","_components_ger_responsavelIS_ResponsavelIS__WEBPACK_IMPORTED_MODULE_20__","bsbsSize","isMulti","_components_report_ReportForm__WEBPACK_IMPORTED_MODULE_22__","assign","localStorageKey","CLASS_KEY","routeProps","reportBasicValues","reportViewOptions","validateExtras","erros","values","folhaInicial","folhaFinal","push","termo1"],"mappings":"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","file":"static/js/520.3a8377bc.chunk.js","sourcesContent":["import React, { FC, useEffect, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useSelector } from 'react-redux';\r\nimport { RouteComponentProps } from 'react-router';\r\nimport { Card, CardBody, CardTitle, Col, CustomInput, Row } from 'reactstrap';\r\nimport {\r\n  ERROR,\r\n  InputGroupInline,\r\n  InputTooltipProps,\r\n  InputType,\r\n  REFERENCE,\r\n  showToast,\r\n  WindowComponent,\r\n  WindowComponentProps,\r\n  withTooltip,\r\n} from 'summer';\r\nimport { hasEmpresa } from '../../../../../dependencies/empresaDependency';\r\nimport { hasEmpresaMCG } from '../../../../../dependencies/empresaMCGDependency';\r\nimport { getDefaultReportBasicValues } from '../../../../../models/dtos/ger/reportBasicValues';\r\nimport { getDefaultReportViewOptions, ReportViewOptions } from '../../../../../models/dtos/ger/reportViewOptions';\r\nimport { LivroFolha } from '../../../../../models/dtos/mcg/livroFolha';\r\nimport { NORMAL } from '../../../../../models/enumerated/ger/consolidarEnum';\r\nimport { CONSOLIDAR_ENUM_VALUES } from '../../../../../models/enumerated/mcg/consolidarEnum';\r\nimport { buscarConfigLivroFolhaMCG } from '../../../../../services/mcg.service';\r\nimport { Reducers } from '../../../../../store/ducks';\r\nimport { GlobalState } from '../../../../../store/ducks/global.duck';\r\nimport ResponsavelIS from '../../../../components/ger/responsavelIS/ResponsavelIS';\r\nimport CustomizacaoTermoIS from '../../../../components/mcg/customizacaoTermoIS/CustomizacaoTermoIS';\r\nimport ReportForm from '../../../../components/report/ReportForm';\r\nimport { CLASS_KEY, DemonstracaoResultadoRV, REPORT_EVENT, REPORT_TITLE } from './demonstracaoResultadoRV';\r\n\r\nconst DEFAULT_VALUES: DemonstracaoResultadoRV = {\r\n  ...getDefaultReportBasicValues(REPORT_TITLE),\r\n  acumularDRE: false,\r\n  consolidacao: NORMAL.value,\r\n  exibirFormatacaoValor: true,\r\n  gerarCabecalhoPadraoAdministradora: false,\r\n  imprimirInformacaoDiario: true,\r\n  outrosResponsaveis: [],\r\n  representante: null,\r\n  termo: null,\r\n  termo2: null,\r\n  virtualization: true,\r\n};\r\n\r\nconst DEFAULT_OPTIONS: ReportViewOptions = {\r\n  ...getDefaultReportViewOptions(REPORT_EVENT, REFERENCE.value),\r\n  exibirConfiguracaoDadosEmpresa: false,\r\n  exibirSegmentacaoFolha: true,\r\n};\r\n\r\nconst maxWidth: number = 250;\r\nconst maxWidthTermo: number = 200;\r\n\r\nconst DemonstracaoResultadoReportView: FC<WindowComponentProps & RouteComponentProps> = props => {\r\n  const globalReducer = useSelector<Reducers, GlobalState>(state => state.globalReducer);\r\n  const { handleSubmit, ...formProps } = useForm<any>({ defaultValues: DEFAULT_VALUES, mode: 'onBlur' });\r\n  const [isEnabledIsMatriz, setIsEnabledIsMatriz] = useState(false);\r\n  const [isEnabledTermoTwo, setIsEnabledTermoTwo] = useState(false);\r\n  const [isEnabledTermoOne, setIsEnabledTermoOne] = useState(true);\r\n  const [isEnabledInfoDiario, setIsEnabledInfoDiario] = useState(true);\r\n\r\n  const carregarParametroEmpresa = () => {\r\n    if (globalReducer.globalParameter.empresa.matriz === null) {\r\n      setIsEnabledIsMatriz(true);\r\n      formProps.getValues().matrizFilial = globalReducer.globalParameter.empresa.centralizar;\r\n    }\r\n  };\r\n\r\n  const getInfoDiario = () => {\r\n    const {\r\n      empresa: { id },\r\n    } = globalReducer.globalParameter;\r\n\r\n    buscarConfigLivroFolhaMCG(id, {\r\n      errorFunction: mensagem => {\r\n        showToast(mensagem, ERROR);\r\n      },\r\n      thenFunction: (result: LivroFolha) => {\r\n        setTimeout(() => {\r\n          formProps.setValue('livroDiario', result.diarioLivro, true);\r\n          formProps.setValue('referenciaInicial', globalReducer.globalParameter.empresaMCG.refAtual, true);\r\n        }, 700);\r\n      },\r\n    });\r\n  };\r\n\r\n  useEffect(\r\n    () => {\r\n      if (globalReducer.globalParameter.empresa) {\r\n        getInfoDiario();\r\n        carregarParametroEmpresa();\r\n      }\r\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    []\r\n  );\r\n\r\n  const enableTermoTwo = () => {\r\n    if (formProps.getValues().isImprimirTermosSeparados && !formProps.getValues().modoSimplificado) {\r\n      setIsEnabledTermoTwo(true);\r\n    } else {\r\n      setIsEnabledTermoTwo(false);\r\n      formProps.unregister(['termo2']);\r\n    }\r\n  };\r\n\r\n  const enableTermo = () => {\r\n    if (formProps.getValues().modoSimplificado) {\r\n      formProps.setValue('isImprimirTermosSeparados', false, true);\r\n      setIsEnabledTermoTwo(false);\r\n      formProps.unregister(['termo2']);\r\n      setIsEnabledTermoOne(false);\r\n      formProps.unregister(['termo']);\r\n    } else {\r\n      setIsEnabledTermoOne(true);\r\n    }\r\n  };\r\n\r\n  const enableInfoDiario = () => {\r\n    if (formProps.getValues().imprimirInformacaoDiario) {\r\n      setIsEnabledInfoDiario(true);\r\n    } else {\r\n      setIsEnabledInfoDiario(false);\r\n    }\r\n  };\r\n\r\n  const validateExtras = () => {\r\n    const erros = [];\r\n    const values = formProps.getValues();\r\n\r\n    if (values.imprimirInformacaoDiario && values.folhaInicial > values.folhaFinal) {\r\n      erros.push('A página inicial do Livro Diário deve ser menor que a página final.');\r\n    }\r\n\r\n    if (values.termo1 != null && values.termo2 != null) {\r\n      if (values.termo1.id === values.termo2.id) {\r\n        erros.push('O Termo 1 selecionado é igual ao Termo 2.');\r\n      }\r\n    }\r\n\r\n    return erros;\r\n  };\r\n\r\n  const getDescricaoReceitaOperacionalPadrao = () => {\r\n    formProps.setValue('descricaoReceitaOperacional', '= RECEITA OPERACIONAL LÍQUIDA', true);\r\n  };\r\n\r\n  const getDescricaoLucroBrutoPadrao = () => {\r\n    formProps.setValue('descricaoLucroBruto', '= LUCRO BRUTO', true);\r\n  };\r\n\r\n  const getDescricaoResultadoOperacionalPadrao = () => {\r\n    formProps.setValue('descricaoResultadoOperacional', '= RESULTADO OPERACIONAL LÍQUIDO', true);\r\n  };\r\n\r\n  const getDescricaoResultadoExercicioPadrao = () => {\r\n    formProps.setValue('descricaoResultadoExercicio', '= RESULTADO DO EXERCÍCIO', true);\r\n  };\r\n\r\n  const getDescricaoCSLLPadrao = () => {\r\n    formProps.setValue('descricaoCSLL', '= RESULTADO ANTES DA C.S.L.L.', true);\r\n  };\r\n\r\n  const getDescricaoImpostoRendaPadrao = () => {\r\n    formProps.setValue('descricaoImpostoRenda', '= RESULTADO ANTES DO IMPOSTO DE RENDA', true);\r\n  };\r\n\r\n  const propToolTip = (messagem: string): InputTooltipProps => {\r\n    return {\r\n      message: messagem,\r\n      placement: 'top-start',\r\n    };\r\n  };\r\n\r\n  return (\r\n    <WindowComponent\r\n      title=\"Demonstração do Resultado\"\r\n      useGlobalParameter={true}\r\n      globalParameter={globalReducer.globalParameter}\r\n      dependencies={[() => hasEmpresa(globalReducer.globalParameter), () => hasEmpresaMCG(globalReducer.globalParameter)]}\r\n      wikiId={1215}\r\n      wikiTitle={'Demonstração de Resultado'}\r\n    >\r\n      <Row>\r\n        <Col>\r\n          <CustomInput\r\n            type=\"switch\"\r\n            onChange={enableTermo}\r\n            label=\"Modo Simplificado\"\r\n            name=\"modoSimplificado\"\r\n            id=\"modoSimplificado\"\r\n            innerRef={formProps.register}\r\n          />\r\n        </Col>\r\n        <Col>\r\n          <CustomInput\r\n            type=\"switch\"\r\n            label=\"Comparar com o Período Anterior\"\r\n            name=\"compararPeriodoAnterior\"\r\n            id=\"compararPeriodoAnterior\"\r\n            innerRef={formProps.register}\r\n          />\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row>\r\n        <Col>\r\n          <CustomInput\r\n            type=\"switch\"\r\n            label=\"Imprimir Informação do Diário\"\r\n            name=\"imprimirInformacaoDiario\"\r\n            onChange={enableInfoDiario}\r\n            id=\"imprimirInformacaoDiario\"\r\n            innerRef={formProps.register}\r\n          />\r\n        </Col>\r\n        <Col>\r\n          <CustomInput\r\n            type=\"switch\"\r\n            label=\"Imprimir Termo em Página Distinta\"\r\n            name=\"isImprimirTermoPagDiferente\"\r\n            id=\"isImprimirTermoPagDiferente\"\r\n            innerRef={formProps.register}\r\n          />\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row>\r\n        <Col>\r\n          <CustomInput\r\n            type=\"switch\"\r\n            label=\"Exibir Notas Explicativas\"\r\n            name=\"exibirNotasExplicativas\"\r\n            id=\"exibirNotasExplicativas\"\r\n            innerRef={formProps.register}\r\n          />\r\n        </Col>\r\n        <Col>\r\n          <CustomInput\r\n            type=\"switch\"\r\n            label=\"Imprimir a Distribuição de Lucros\"\r\n            name=\"imprimirDistribuicaoLucros\"\r\n            id=\"imprimirDistribuicaoLucros\"\r\n            innerRef={formProps.register}\r\n          />\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row>\r\n        <Col>\r\n          <CustomInput\r\n            type=\"switch\"\r\n            label=\"Alterar as Descrições do DRE\"\r\n            name=\"isAlterarDescricoes\"\r\n            id=\"idisAlterarDescricoes\"\r\n            innerRef={formProps.register}\r\n          />\r\n          {withTooltip(\r\n            propToolTip('Caso essa opção seja selecionada as contas terão número de conta e código impressas antes do nome.'),\r\n            'isAlterarDescricoes'\r\n          )}\r\n        </Col>\r\n        <Col>\r\n          <CustomInput\r\n            type=\"switch\"\r\n            label=\"Trocar campo referencia do cabeçalho para data inicial/final\"\r\n            name=\"imprimirDataInicialFinal\"\r\n            id=\"imprimirDataInicialFinal\"\r\n            innerRef={formProps.register}\r\n          />\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row className=\"mb-3\">\r\n        <Col>\r\n          <CustomInput\r\n            type=\"switch\"\r\n            disabled={formProps.getValues().modoSimplificado}\r\n            onChange={enableTermoTwo}\r\n            label=\"Imprimir Termos Separados\"\r\n            inline={true}\r\n            name=\"isImprimirTermosSeparados\"\r\n            id=\"isImprimirTermosSeparados\"\r\n            innerRef={formProps.register}\r\n          />\r\n        </Col>\r\n        {isEnabledIsMatriz && (\r\n          <Col>\r\n            <CustomInput type=\"switch\" label=\"Acumular Matriz e Filiais\" name=\"matrizFilial\" id=\"matrizFilial\" innerRef={formProps.register} />\r\n          </Col>\r\n        )}\r\n      </Row>\r\n\r\n      {formProps.getValues().isAlterarDescricoes && (\r\n        <Card>\r\n          <CardBody>\r\n            <CardTitle>Descrições do DRE</CardTitle>\r\n            <Row>\r\n              <Col>\r\n                <InputGroupInline\r\n                  id=\"descricaoReceitaOperacional\"\r\n                  label=\"Receita Operacional Líquida\"\r\n                  isPrependLabel={true}\r\n                  iconAppend={'reply'}\r\n                  labelWidth={maxWidth}\r\n                  appendClickHandler={getDescricaoReceitaOperacionalPadrao}\r\n                  placeholder=\"digite a Descrição da Receita Operacional Líquida\"\r\n                  formProps={formProps}\r\n                  tooltipProps={propToolTip('Altera a descrição exibida da Receita Operacional Líquida')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <InputGroupInline\r\n                  id=\"descricaoLucroBruto\"\r\n                  label=\"Lucro Bruto\"\r\n                  isPrependLabel={true}\r\n                  iconAppend={'reply'}\r\n                  labelWidth={maxWidth}\r\n                  appendClickHandler={getDescricaoLucroBrutoPadrao}\r\n                  placeholder=\"digite a Descrição do Lucro Bruto\"\r\n                  formProps={formProps}\r\n                  tooltipProps={propToolTip('Altera a descrição exibida do Lucro Bruto')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <InputGroupInline\r\n                  id=\"descricaoResultadoOperacional\"\r\n                  label=\"Resultado Operacional Líquido\"\r\n                  isPrependLabel={true}\r\n                  labelWidth={maxWidth}\r\n                  iconAppend={'reply'}\r\n                  appendClickHandler={getDescricaoResultadoOperacionalPadrao}\r\n                  placeholder=\"digite a Descrição do Resultado Operacional Liquido\"\r\n                  formProps={formProps}\r\n                  tooltipProps={propToolTip('Altera a descrição exibida do Resultado Operacional Líquido')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <InputGroupInline\r\n                  id=\"descricaoResultadoExercicio\"\r\n                  label=\"Resultado do Exercício\"\r\n                  isPrependLabel={true}\r\n                  labelWidth={maxWidth}\r\n                  iconAppend={'reply'}\r\n                  appendClickHandler={getDescricaoResultadoExercicioPadrao}\r\n                  placeholder=\"digite a Descrição do Resultado do Exércicio\"\r\n                  formProps={formProps}\r\n                  tooltipProps={propToolTip('Altera a descrição exibida do Resultado do Exercício')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <InputGroupInline\r\n                  id=\"descricaoCSLL\"\r\n                  label=\"C.S.L.L\"\r\n                  isPrependLabel={true}\r\n                  labelWidth={maxWidth}\r\n                  appendClickHandler={getDescricaoCSLLPadrao}\r\n                  iconAppend={'reply'}\r\n                  placeholder=\"digite a Descrição do C.S.L.L\"\r\n                  formProps={formProps}\r\n                  tooltipProps={propToolTip('Altera a descrição exibida da C.S.L.L')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <InputGroupInline\r\n                  id=\"descricaoImpostoRenda\"\r\n                  label=\"I.R\"\r\n                  isPrependLabel={true}\r\n                  iconAppend={'reply'}\r\n                  appendClickHandler={getDescricaoImpostoRendaPadrao}\r\n                  labelWidth={maxWidth}\r\n                  placeholder=\"digite a Descrição do Imposto de Renda\"\r\n                  formProps={formProps}\r\n                  tooltipProps={propToolTip('Altera a descrição exibida do Imposto de Renda')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </CardBody>\r\n        </Card>\r\n      )}\r\n\r\n      {isEnabledInfoDiario && <hr className=\"mt-0\" />}\r\n\r\n      {isEnabledInfoDiario && (\r\n        <Row className=\"mt-3\">\r\n          <Col>\r\n            <InputGroupInline\r\n              id=\"livroDiario\"\r\n              label=\"Nº Livro Diário\"\r\n              isPrependLabel={true}\r\n              formProps={{ ...formProps, validation: { required: isEnabledInfoDiario, max: 2147483647 } }}\r\n              type={InputType.NUMBER}\r\n              iconAppend={'reply'}\r\n              appendClickHandler={getInfoDiario}\r\n            />\r\n          </Col>\r\n          <Col>\r\n            <InputGroupInline\r\n              id=\"folhaInicialDiario\"\r\n              label=\"Folha Inicial Diário\"\r\n              isPrependLabel={true}\r\n              formProps={{ ...formProps, validation: { required: isEnabledInfoDiario, max: 2147483647 } }}\r\n              type={InputType.NUMBER}\r\n            />\r\n          </Col>\r\n          <Col>\r\n            <InputGroupInline\r\n              id=\"folhaFinalDiario\"\r\n              label=\"Folha Final Diário\"\r\n              isPrependLabel={true}\r\n              formProps={{ ...formProps, validation: { required: isEnabledInfoDiario, max: 2147483647 } }}\r\n              type={InputType.NUMBER}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      )}\r\n      <hr className=\"mt-0\" />\r\n\r\n      <Row>\r\n        <Col>\r\n          <InputGroupInline\r\n            id=\"dataEncerramento\"\r\n            label=\"Data de Encerramento\"\r\n            placeholder={'Informe a Data de Encerramento'}\r\n            isPrependLabel={true}\r\n            labelWidth={maxWidthTermo}\r\n            formProps={formProps}\r\n            type={InputType.DATE}\r\n          />\r\n        </Col>\r\n      </Row>\r\n\r\n      {isEnabledTermoOne && (\r\n        <Row>\r\n          <Col>\r\n            <CustomizacaoTermoIS\r\n              formProps={{ ...formProps, validation: { required: isEnabledTermoOne } }}\r\n              label=\"Termo\"\r\n              searchViewProps={{ apenasDemonstracaoResultado: true }}\r\n              apenasDemonstracaoResultado={true}\r\n              placeholder=\"Selecione o termo\"\r\n              labelWidth={maxWidthTermo}\r\n              id=\"termo\"\r\n              disabled={formProps.getValues().modoSimplificado}\r\n              isPrependLabel={true}\r\n              inputSearchProps={{ bsSize: 'xl' }}\r\n              tooltipProps={propToolTip('Termo Demonstração de Resultado')}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      )}\r\n\r\n      {isEnabledTermoTwo && (\r\n        <Row>\r\n          <Col>\r\n            <CustomizacaoTermoIS\r\n              formProps={{ ...formProps, validation: { required: isEnabledTermoTwo } }}\r\n              label=\"Segundo Termo\"\r\n              searchViewProps={{ apenasBalancoPatrimonial: true }}\r\n              apenasBalancoPatrimonial={true}\r\n              disabled={formProps.getValues().modoSimplificado}\r\n              labelWidth={maxWidthTermo}\r\n              placeholder=\"Selecione o segundo termo\"\r\n              id=\"termo2\"\r\n              isPrependLabel={true}\r\n              inputSearchProps={{ bsSize: 'xl' }}\r\n              tooltipProps={propToolTip('Termo Demonstração de Resultado')}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      )}\r\n\r\n      <hr className=\"mt-0\" />\r\n\r\n      <Row className=\"mt-3\">\r\n        <Col>\r\n          <InputGroupInline\r\n            id=\"consolidacao\"\r\n            label=\"Consolidação\"\r\n            isPrependLabel={true}\r\n            placeholder=\"Selecione o tipo de consolidação\"\r\n            formProps={{ ...formProps, validation: { required: true } }}\r\n            inputDropDownProps={{\r\n              optionsProvider: CONSOLIDAR_ENUM_VALUES,\r\n              selectProps: { isClearable: false },\r\n            }}\r\n            type={InputType.DROP_DOWN}\r\n          />\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row>\r\n        <Col>\r\n          <ResponsavelIS\r\n            id={'representante'}\r\n            formProps={formProps}\r\n            label={'Representante'}\r\n            placeholder={'Informe os Representante'}\r\n            isPrependLabel={true}\r\n            inputSearchProps={{ bsbsSize: 'xl', selectProps: { isMulti: false } }}\r\n          />\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row>\r\n        <Col>\r\n          <ResponsavelIS\r\n            id={'outrosResponsaveis'}\r\n            formProps={formProps}\r\n            label={'Responsáveis adicionais para assinatura'}\r\n            placeholder={'Informe os Responsáveis adicionais para a assinatura'}\r\n            isPrependLabel={true}\r\n            inputSearchProps={{ bsbsSize: 'xl', selectProps: { isMulti: true } }}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <ReportForm\r\n        {...props}\r\n        handleSubmit={handleSubmit}\r\n        formProps={formProps}\r\n        localStorageKey={CLASS_KEY}\r\n        routeProps={props}\r\n        reportBasicValues={DEFAULT_VALUES}\r\n        reportViewOptions={DEFAULT_OPTIONS}\r\n        validateExtras={validateExtras}\r\n      />\r\n    </WindowComponent>\r\n  );\r\n};\r\n\r\nexport default DemonstracaoResultadoReportView;\r\n"],"sourceRoot":""}