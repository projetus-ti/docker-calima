(window.webpackJsonp=window.webpackJsonp||[]).push([[125],{1398:function(e,a,t){"use strict";t.r(a),t.d(a,"default",function(){return L});var r=t(6),n=t(0),i=t.n(n),c=t(98),o=t(20),l=t(35),s=t(198),u=t(148),p=t(786),d=t(2),b=t(815),m=t(823),f=t(827),O=t(821),E=t(868),j=t(828),v=t(894);const P="Rela\xe7\xe3o de Servi\xe7o",g=Object(r.a)(Object(r.a)({},Object(f.a)(P,"printPrestacaoServicoGeral",v.a,O.b.value)),{},{dtFinal:"31/12/2017",dtInicial:"01/01/2017"});function L(e){const a=Object(o.c)(e=>e.globalReducer),t=Object(l.g)(),r=Object(c.b)({mode:"onBlur"}),f=Object(n.useRef)("1");return Object(n.useEffect)(()=>{null!==a.globalParameter.empresa&&(setTimeout(()=>{r.setValue("idGerEmpresa",a.globalParameter.empresa.id),r.setValue("entrada",!0)},800),Object(E.d)(a.globalParameter.empresa.id,{errorFunction:e=>{Object(d.sc)(e,d.A)},thenFunction:e=>{setTimeout(()=>{null!==e.prestacaoServicoFolha&&void 0!==e.prestacaoServicoFolha&&(f.current=e.prestacaoServicoFolha.toString(),r.setValue("pageNumber",f.current,!0)),null!==e.prestacaoServicoLivro&&void 0!==e.prestacaoServicoLivro&&r.setValue("numeroLivro",e.prestacaoServicoLivro,!0)},600)}}))},[]),i.a.createElement(d.hb,Object.assign({},e,{title:P,dependencies:[()=>Object(b.a)(a.globalParameter),()=>Object(m.a)(a.globalParameter)]}),i.a.createElement(j.a,{formProps:r,printerData:g,history:t},i.a.createElement(d.K,{formProps:r,id:"idGerEmpresa",hidden:!0}),i.a.createElement(d.K,{formProps:r,id:"entrada",hidden:!0}),i.a.createElement(d.K,{formProps:r,id:"numeroLivro",hidden:!0}),i.a.createElement(s.a,{className:"align-items-center"},i.a.createElement(u.a,{xs:4},i.a.createElement(p.a,{type:"switch",label:"Exibir valores zerados quando nota for cancelada",id:"canceladoExibirZero",name:"canceladoExibirZero",innerRef:r.register})),i.a.createElement(u.a,{xs:4},i.a.createElement(p.a,{type:"switch",label:"Armazenar P\xe1gina (Livro Oficial)",id:"armazenarPaginaInicial",name:"armazenarPaginaInicial",innerRef:r.register})))))}},815:function(e,a,t){"use strict";function r(e){let a=null;return e.empresa||(a="Pelo menos uma empresa deve estar selecionada."),a}t.d(a,"a",function(){return r})},821:function(e,a,t){"use strict";t.d(a,"e",function(){return r}),t.d(a,"a",function(){return n}),t.d(a,"b",function(){return i}),t.d(a,"c",function(){return c}),t.d(a,"d",function(){return o}),t.d(a,"f",function(){return l});const r={label:"",value:"0"},n={label:"",value:"1"},i={label:"",value:"2"},c={label:"",value:"3"},o={label:"",value:"4"},l={label:"",value:"6"}},822:function(e,a,t){"use strict";t.d(a,"a",function(){return r});const r={label:"Gr\xe1fico - PDF",value:"grafico"},n=[{label:"Texto - CalimaDesk",value:"texto"},r,{label:"E-mail - PDF",value:"email"}];a.b=n},823:function(e,a,t){"use strict";function r(e){let a=null;return e.empresaMLF||(a="A empresa fiscal da empresa selecionada deve estar configurada. Para configurar acesse:\nM\xf3dulo Fiscal > Manuten\xe7\xe3o > Configura\xe7\xf5es > Empresa"),a}t.d(a,"a",function(){return r})},827:function(e,a,t){"use strict";t.d(a,"a",function(){return i});var r=t(821),n=t(822);function i(e,a,t,i=r.e.value,c="MLF"){return{anoLabel:"Ano",classKey:t,dtFinalLabel:"Data Final",dtInicialLabel:"Data Inicial",module:c,pageNumber:"1",passObj:{},printerConfigTypeEnum:i,printerDataEmail:{},printerTypeEnum:n.a.value,refFinalLabel:"Refer\xeancia Final",refInicialLabel:"Refer\xeancia Inicial",reportEventType:a,reportSequence:!1,title:e}}},828:function(e,a,t){"use strict";var r=t(6),n=t(200),i=t(0),c=t.n(i),o=t(395),l=t(198),s=t(148),u=t(786),p=t(2),d=t(821),b=t(822),m=t(256);a.a=(e=>{Object(i.useEffect)(()=>{const a=e.printerData,t=a.printerTypeEnum,n=a.printerConfigTypeEnum;let i=Object(r.a)(Object(r.a)({},e.printerData),{},{printerTypeEnum:t&&t.length>0?t[0]:b.a.value});const c=Object(p.yb)(),o=Object(p.yb)();switch(n){case d.a.value:i=Object(r.a)(Object(r.a)({},i),{},{dtInicial:Object(p.Mb)(c.toDate())});break;case d.b.value:i=Object(r.a)(Object(r.a)({},i),{},{dtFinal:Object(p.Mb)(o.endOf("month").toDate()),dtInicial:Object(p.Mb)(c.toDate())});break;case d.c.value:i=Object(r.a)(Object(r.a)({},i),{},{referenciaInicial:Object(p.Lb)(c.toDate(),p.V)});break;case d.d.value:i=Object(r.a)(Object(r.a)({},i),{},{referenciaFinal:Object(p.Lb)(c.toDate(),p.V),referenciaInicial:Object(p.Lb)(o.toDate(),p.V)});break;case d.f.value:i=Object(r.a)(Object(r.a)({},i),{},{ano:String(c.year())})}e.formProps.reset(i)},[e.printerData.printerConfigTypeEnum,e.printerData.printerTypeEnum]);const a=c.a.createElement(p.K,{id:"dtInicial",label:e.printerData.dtInicialLabel,isPrependLabel:!0,formProps:Object(r.a)(Object(r.a)({},e.formProps),{},{validation:{required:!0}}),type:p.L.DATE}),t=e.printerData.printerConfigTypeEnum===d.a.value?a:null,f=e.printerData.printerConfigTypeEnum===d.b.value?c.a.createElement(c.a.Fragment,null,a,c.a.createElement(p.K,{id:"dtFinal",label:e.printerData.dtFinalLabel,isPrependLabel:!0,formProps:Object(r.a)(Object(r.a)({},e.formProps),{},{validation:{required:!0}}),type:p.L.DATE})):null,O=c.a.createElement(p.K,{id:"refInicial",label:e.printerData.refInicialLabel,isPrependLabel:!0,formProps:Object(r.a)(Object(r.a)({},e.formProps),{},{validation:{required:!0}}),type:p.L.REFERENCE}),E=e.printerData.printerConfigTypeEnum===d.c.value?O:null,j=e.printerData.printerConfigTypeEnum===d.d.value?c.a.createElement(c.a.Fragment,null,O,c.a.createElement(p.K,{id:"refFinal",label:e.printerData.refFinalLabel,isPrependLabel:!0,formProps:Object(r.a)(Object(r.a)({},e.formProps),{},{validation:{required:!0}}),type:p.L.REFERENCE})):null,v=e.printerData.printerConfigTypeEnum===d.f.value?c.a.createElement(p.K,{id:"ano",label:e.printerData.anoLabel,isPrependLabel:!0,formProps:Object(r.a)(Object(r.a)({},e.formProps),{},{validation:{required:!0}}),inputMaskedProps:{mask:"9999"},type:p.L.MASK}):null;return c.a.createElement(o.a,{noValidate:!0},e.children,c.a.createElement(p.c,{formProps:e.formProps,firstOpen:e.extraConfigOpened||!1},c.a.createElement(p.d,{title:"Configura\xe7\xf5es adicionais do Relat\xf3rio"},c.a.createElement(p.K,{id:"title",label:"T\xedtulo",isPrependLabel:!0,placeholder:"T\xedtulo",iconAppend:"undo-alt",appendClickHandler:()=>{e.formProps.setValue("title",e.printerData.title,!0)},formProps:Object(r.a)(Object(r.a)({},e.formProps),{},{validation:{maxLength:120,minLength:5,required:!0}})}),c.a.createElement(p.K,{id:"pageNumber",label:"P\xe1gina Inicial",isPrependLabel:!0,placeholder:"P\xe1gina Inicial",formProps:Object(r.a)(Object(r.a)({},e.formProps),{},{validation:{min:0,required:!0}}),type:p.L.NUMBER}),c.a.createElement(l.a,{className:"mb-3 mt-3"},c.a.createElement(s.a,null,c.a.createElement(u.a,{type:"switch",label:"Sequenciar Relat\xf3rios",id:"reportSequence",name:"reportSequence",innerRef:e.formProps.register}))),t,f,E,j,v,c.a.createElement(p.K,{id:"printerTypeEnum",label:"Tipo de Impress\xe3o",isPrependLabel:!0,placeholder:"Selecione o tipo de impress\xe3o",formProps:Object(r.a)(Object(r.a)({},e.formProps),{},{validation:{required:!0}}),inputDropDownProps:{optionsProvider:b.b,selectProps:{isClearable:!1}},type:p.L.DROP_DOWN}))),c.a.createElement(p.R,{handleSubmit:e.formProps.handleSubmit((a,t)=>{t.preventDefault();let i=[];if(e.validateExtras&&(i=e.validateExtras(e.printerData,a)),i&&i.length){const e={message:c.a.createElement(p.C,{erros:i}),type:p.f.ERROR};p.ob.emit(p.a.SHOW,e)}else e.printerData.passObj=a,Object(p.sc)("Seu relat\xf3rio est\xe1 sendo gerado...",Object(r.a)(Object(r.a)({},p.I),{},{delay:3e3})),Object(m.c)(e.printerData,{errorFunction:e=>{Object(p.sc)(e,p.A)},thenFunction:()=>{Object(m.a)({errorFunction:e=>{Object(p.sc)(e,p.A)},thenFunction:e=>{const a=e.headers["content-disposition"],t=a.slice(0,a.lastIndexOf(";")).split("filename=")[1].replace(/"/g,"");Object(n.saveAs)(e.data,t)}})}})}),hideCancelButton:!0}))})},868:function(e,a,t){"use strict";t.d(a,"b",function(){return i}),t.d(a,"c",function(){return c}),t.d(a,"d",function(){return o}),t.d(a,"f",function(){return l}),t.d(a,"g",function(){return s}),t.d(a,"a",function(){return u}),t.d(a,"e",function(){return p}),t.d(a,"h",function(){return d});var r=t(2);function n(){return Object(r.vb)("/mlf")}function i(e,a,t){Object(r.rc)(n().post("/findEspecieByModelo",{modelo:e,isImportacao:a}),t)}function c(e,a){Object(r.rc)(n().get("/findReinfCFOPConfig/".concat(e)),a)}function o(e,a){Object(r.rc)(n().get("/getLivroFolhaMLF/".concat(e)),a)}function l(e,a){Object(r.rc)(n().post("/refazerLancamentosContabeis",e),a)}function s(e,a){Object(r.rc)(n().post("/refazerLancamentosReinf",e),a)}function u(e,a){Object(r.rc)(n().get("/findConfigReinfEmpresa/".concat(e)),a)}function p(e,a){Object(r.rc)(n().post("/importarIntegracaoFiscalContabil",e),a)}function d(e,a,t){Object(r.rc)(n().post("/validarIE",{inscricaoEstadual:e,unidadeFederacao:a}),t)}},894:function(e,a,t){"use strict";t.d(a,"c",function(){return r}),t.d(a,"b",function(){return n}),t.d(a,"a",function(){return i});const r="Listagem de Presta\xe7\xe3o de Servi\xe7o",n="printPrestacaoServicoGeral",i="prestacaoservicorelpass"}}]);
//# sourceMappingURL=125.d19c5c06.chunk.js.map