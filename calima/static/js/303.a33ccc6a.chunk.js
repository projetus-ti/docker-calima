(window.webpackJsonp=window.webpackJsonp||[]).push([[303],{1534:function(e,a,t){"use strict";t.r(a);var r=t(6),l=t(12),i=t(149),o=t(0),n=t.n(o),c=t(98),s=t(19),u=t(126),d=t(196),m=t(197),p=t(198),f=t(148),b=t(786),g=t(22),E=t(859),P=t(2),C=t(815);var v=t(99),h=t(847);a.default=(e=>{const a=Object(s.c)(e=>e.globalReducer),t=Object(c.b)({mode:"onBlur"}),j=t.reset,O=Object(i.a)(t,["reset"]),A=Object(o.useState)(),R=Object(l.a)(A,2),N=R[0],V=R[1],w=Object(o.useState)(),D=Object(l.a)(w,2),y=D[0],x=D[1],S=Object(o.useState)(),q=Object(l.a)(S,2),F=q[0],L=q[1],I=Object(o.useState)(),T=Object(l.a)(I,2),M=T[0],k=T[1];Object(o.useEffect)(()=>{Object(v.g)(a.globalParameter.empresa.id,{thenFunction:e=>{e?(k(e.arquivoCertificadoDigital),V(e.certificadoA3),e.certificadoA1=!e.certificadoA3,e.usarCnpjResponsavelProcuracao=!e.usarCpfResponsavelProcuracao,j(e)):(j({certificadoA1:!0,notificacaoCertificado:!0,notificacaoNroDiasCertificadoVencer:30,usarCnpjResponsavelProcuracao:!0}),V(!1)),L(e.isProcuracaoEletronica)}})},[]),Object(o.useEffect)(()=>{O.setValue("isAdministradoraProcuracao",O.getValues().isProcuracaoEletronica),x(!O.getValues().isProcuracaoEletronica||O.getValues().isAdministradoraProcuracao)},[O.getValues().isProcuracaoEletronica]),Object(o.useEffect)(()=>{y&&O.setValue("responsavelProcuracao",null)},[y]);return n.a.createElement(P.ib,{title:"Configura\xe7\xe3o Certificado Digital",useGlobalParameter:!0,globalParameter:a.globalParameter,dependencies:[()=>Object(C.a)(a.globalParameter)],wikiId:3207},n.a.createElement(P.B,{hideCancelButton:!0,formProps:O,editViewProps:e,dtoClassName:"br.com.projetusinformatica.calima.ger.model.dto.certificadodigital",beforePersist:(e,t)=>(e.empresa=a.globalParameter.empresa,e.certificadoA3?(e.senhaCertificadoDigital=null,e.notificacaoCertificado=!1,e.arquivoCertificadoDigital=null,e.notificacaoNroDiasCertificadoVencer=30,e.nomeCertificadoDigital=null,t(e)):Object(v.u)(e,{thenFunction:a=>{a.ruleMessage.success?(e.arquivoCertificadoDigital=a.arquivo,e.arquivos&&(e.nomeCertificadoDigital=O.getValues().arquivos[0].nomeArquivo),t(e)):Object(P.tc)(a.ruleMessage.message,P.A)}}),{async:!0}),validateExtras:()=>{const e=O.getValues(),a=e.isProcuracaoEletronica,t=e.isAdministradoraProcuracao,r=e.responsavelProcuracao,l=[];return!a||t||r||l.push("Quando a op\xe7\xe3o 'Procura\xe7\xe3o Eletr\xf4nica' for selecionada, deve-se marcar a op\xe7\xe3o 'Administradora Respons\xe1vel' ou selecionar um Respons\xe1vel caso n\xe3o seja a Administradora."),l}},n.a.createElement(u.a,null,n.a.createElement(d.a,{className:"font-weight-bold bg-light"},"Tipo de Certificado Digital"),n.a.createElement(m.a,null,n.a.createElement(p.a,null,n.a.createElement(f.a,null,n.a.createElement(b.a,{type:"switch",label:"Certificado A1",name:"certificadoA1",id:"certificadoA1",innerRef:O.register,onChange:()=>{O.setValue("certificadoA3",!O.getValues().certificadoA1),V(!O.getValues().certificadoA1)}})),n.a.createElement(f.a,null,n.a.createElement(b.a,{type:"switch",label:"Certificado A3",name:"certificadoA3",id:"certificadoA3",innerRef:O.register,onChange:()=>{O.setValue("certificadoA1",!O.getValues().certificadoA3),V(O.getValues().certificadoA3)}}))))),n.a.createElement("br",null),!N&&n.a.createElement(n.a.Fragment,null,n.a.createElement(u.a,null,n.a.createElement(m.a,null,M?n.a.createElement(n.a.Fragment,null,n.a.createElement(P.K,{id:"arquivoCertificadoDigital",formProps:O,hidden:!0}),n.a.createElement(p.a,null,n.a.createElement(f.a,null,n.a.createElement(P.K,{id:"nomeCertificadoDigital",formProps:O,isPrependLabel:!0,label:"Certificado Digital",disabled:!0})),n.a.createElement(f.a,null,n.a.createElement(g.a,{className:"btn-danger",onClick:()=>{k(void 0)}},"Remover Certificado")))):n.a.createElement(p.a,null,n.a.createElement(f.a,null,n.a.createElement(P.D,{acceptedTypes:".pfx",formProps:O,isMultiple:!1,limitSizeBytes:204800,propImageName:"arquivos"}))),n.a.createElement("br",null),n.a.createElement(p.a,null,n.a.createElement(f.a,null,n.a.createElement(P.K,{formProps:Object(r.a)(Object(r.a)({},O),{},{validation:{required:!0,maxLength:150}}),id:"senhaCertificadoDigital",isPrependLabel:!0,label:"Senha Certificado Digital",placeholder:"Informe a Senha",type:P.L.PASSWORD}))))),n.a.createElement("br",null),n.a.createElement(u.a,null,n.a.createElement(d.a,{className:"font-weight-bold bg-light"},"Notifica\xe7\xf5es"),n.a.createElement(m.a,null,n.a.createElement(p.a,null,n.a.createElement(f.a,null,n.a.createElement(P.K,{formProps:Object(r.a)(Object(r.a)({},O),{},{validation:{required:!0,min:1,max:60}}),id:"notificacaoNroDiasCertificadoVencer",isPrependLabel:!0,label:"N\xba de dias para notifica\xe7\xe3o de certificado a vencer",placeholder:"Informe o n\xfamero de dias",type:P.L.NUMBER}))),n.a.createElement(p.a,null,n.a.createElement(f.a,null,n.a.createElement(b.a,{type:"switch",label:"Notificar Certificado Digital a vencer",name:"notificacaoCertificado",id:"notificacaoCertificado",innerRef:O.register}))))),n.a.createElement("br",null)),N&&n.a.createElement(n.a.Fragment,null,n.a.createElement(E.a,{color:"danger",className:"text-center"},"ATEN\xc7\xc3O",n.a.createElement("br",null),"Para utilizar o Certificado Digital do tipo A3 \xe9 necess\xe1rio efetuar o download do aplicativo abaixo. O aplicativo deve ser instalado na mesma m\xe1quina onde se encontra o Certificado Digital. O Aplicativo ir\xe1 se encarregar de assinar e transmitir os arquivos digitalmente."),n.a.createElement("div",{className:"text-center"},n.a.createElement("a",{href:"https://download.projetusti.com.br/calima/eSocialA3-install.exe",className:"btn btn-primary",target:"_blank",rel:"noopener noreferrer"},"Baixar Aplicativo")),n.a.createElement("br",null)),n.a.createElement(u.a,null,n.a.createElement(d.a,{className:"font-weight-bold bg-light"},"Procura\xe7\xe3o Eletr\xf4nica"),n.a.createElement(m.a,null,n.a.createElement(p.a,null,n.a.createElement(f.a,null,n.a.createElement(b.a,{type:"switch",label:"Procura\xe7\xe3o Eletr\xf4nica",name:"isProcuracaoEletronica",id:"isProcuracaoEletronica",innerRef:O.register,onChange:()=>{L(O.getValues().isProcuracaoEletronica),O.setValue("isAdministradoraProcuracao",O.getValues().isProcuracaoEletronica)}}))),n.a.createElement(p.a,null,n.a.createElement(f.a,null,n.a.createElement(b.a,{type:"switch",label:"Administradora Geral do Sistema \xe9 a Respons\xe1vel",name:"isAdministradoraProcuracao",id:"isAdministradoraProcuracao",innerRef:O.register,onChange:()=>{x(!O.getValues().isProcuracaoEletronica||O.getValues().isAdministradoraProcuracao)},disabled:!F}))),n.a.createElement("br",null),n.a.createElement(p.a,null,n.a.createElement(f.a,null,n.a.createElement(h.a,{id:"responsavelProcuracao",formProps:O,label:"Respons\xe1vel",placeholder:"Selecione um Respons\xe1vel",isPrependLabel:!0,disabled:y}))),n.a.createElement(u.a,null,n.a.createElement(d.a,{className:"font-weight-bold bg-light"},"Informa\xe7\xe3o do Respons\xe1vel que ser\xe1 usada na procura\xe7\xe3o"),n.a.createElement(m.a,null,n.a.createElement(p.a,null,n.a.createElement(f.a,null,n.a.createElement(b.a,{type:"switch",label:"CNPJ",name:"usarCnpjResponsavelProcuracao",id:"usarCnpjResponsavelProcuracao",innerRef:O.register,onChange:()=>{O.setValue("usarCpfResponsavelProcuracao",!O.getValues().usarCnpjResponsavelProcuracao)},disabled:!F})),n.a.createElement(f.a,null,n.a.createElement(b.a,{type:"switch",label:"CPF",name:"usarCpfResponsavelProcuracao",id:"usarCpfResponsavelProcuracao",innerRef:O.register,onChange:()=>{O.setValue("usarCnpjResponsavelProcuracao",!O.getValues().usarCpfResponsavelProcuracao)},disabled:!F}))))))),n.a.createElement("br",null)))})},815:function(e,a,t){"use strict";function r(e){let a=null;return e.empresa||(a="Pelo menos uma empresa deve estar selecionada."),a}t.d(a,"a",function(){return r})},845:function(e,a,t){"use strict";t.d(a,"a",function(){return r});const r="br.com.projetusinformatica.calima.ger.model.dto.responsavel"},847:function(e,a,t){"use strict";var r=t(6),l=t(0),i=t.n(l),o=t(2),n=t(845);a.a=(e=>i.a.createElement(o.K,Object.assign({},e,{isPrependLabel:!0,inputSearchProps:Object(r.a)(Object(r.a)({},e.inputSearchProps),{},{columns:[{dataField:"nome",text:"Nome"},{dataField:"cpf",text:"CPF"},{dataField:"cnpj",text:"CNPJ"},{dataField:"cei",text:"CEI"},{dataField:"tipo",text:"Tipo"},{dataField:"telefone",text:"Telefone"},{dataField:"email",text:"E-mail"}],dtoClassName:n.a,searchViewId:"ResponsavelSearchView"}),label:e.label?e.label:"Respons\xe1vel",placeholder:e.placeholder?e.placeholder:"Informe o Respons\xe1vel",type:o.L.INPUT_SEARCH})))},859:function(e,a,t){"use strict";var r=t(3),l=t(9),i=t(20),o=t(0),n=t.n(o),c=t(1),s=t.n(c),u=t(8),d=t.n(u),m=t(5),p=t(56),f={children:s.a.node,className:s.a.string,closeClassName:s.a.string,closeAriaLabel:s.a.string,cssModule:s.a.object,color:s.a.string,fade:s.a.bool,isOpen:s.a.bool,toggle:s.a.func,tag:m.q,transition:s.a.shape(p.a.propTypes),innerRef:s.a.oneOfType([s.a.object,s.a.string,s.a.func])},b={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:Object(i.a)({},p.a.defaultProps,{unmountOnExit:!0})};function g(e){var a=e.className,t=e.closeClassName,o=e.closeAriaLabel,c=e.cssModule,s=e.tag,u=e.color,f=e.isOpen,b=e.toggle,g=e.children,E=e.transition,P=e.fade,C=e.innerRef,v=Object(l.a)(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"]),h=Object(m.m)(d()(a,"alert","alert-"+u,{"alert-dismissible":b}),c),j=Object(m.m)(d()("close",t),c),O=Object(i.a)({},p.a.defaultProps,{},E,{baseClass:P?E.baseClass:"",timeout:P?E.timeout:0});return n.a.createElement(p.a,Object(r.a)({},v,O,{tag:s,className:h,in:f,role:"alert",innerRef:C}),b?n.a.createElement("button",{type:"button",className:j,"aria-label":o,onClick:b},n.a.createElement("span",{"aria-hidden":"true"},"\xd7")):null,g)}g.propTypes=f,g.defaultProps=b,a.a=g}}]);
//# sourceMappingURL=303.a33ccc6a.chunk.js.map