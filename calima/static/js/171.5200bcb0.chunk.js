(window.webpackJsonp=window.webpackJsonp||[]).push([[171],{1303:function(e,a,t){"use strict";t.r(a);var r=t(6),n=t(12),o=t(149),i=t(0),c=t.n(i),s=t(98),l=t(19),u=t(395),d=t(198),p=t(148),m=t(859),b=t(394),f=t(786),g=t(2),O=t(815),j=t(822),E=t(846),P=t(49),v=t(817),C=t(847);a.default=(e=>{const a=Object(l.c)(e=>e.globalReducer),t=Object(s.b)({mode:"onBlur"}),h=t.reset,F=Object(o.a)(t,["reset"]),D=Object(l.c)(e=>e.globalReducer).headerDrawerToggle,A=Object(l.b)(),R=Object(i.useState)(!1),N=Object(n.a)(R,2),x=N[0],S=N[1];Object(i.useEffect)(()=>{const e=a.globalParameter.usuario;if(null!==a.globalParameter.empresa&&null!==a.globalParameter.empresaMFP){const t=a.globalParameter.empresaMFP.referencia,r=a.globalParameter.empresaMFP,n=a.globalParameter.empresa.responsavelContador,o=r.tipoResponsavelCaged;setTimeout(()=>{h({referencia:t,responsavel:n,tipoResponsavel:o,usuario:{id:e.id}})},300)}},[]);const V=()=>{const e=[];return F.getValues().isCagedDiario&&Object(g.Yb)(F.getValues().dtCagedDiario)&&e.push("A Data de Gera\xe7\xe3o do CAGED Di\xe1rio n\xe3o pode estar em branco."),F.getValues().referencia&&!Object(g.Yb)(F.getValues().dtCagedDiario)&&Object(g.Ob)(Object(g.uc)(F.getValues().dtCagedDiario))!==F.getValues().referencia&&e.push("A Data de Gera\xe7\xe3o do CAGED Di\xe1rio \xe9 diferente da refer\xeancia informada."),Object(g.Yb)(F.getValues().tipoResponsavel)&&e.push("\xc9 necess\xe1rio informar o Tipo Respons\xe1vel Autorizado em:\n Manuten\xe7\xe3o > Configura\xe7\xf5es > Empresa > Aba Outros Arquivos Digitais > Aba CAGED"),e};return c.a.createElement(g.ib,{title:"Exporta\xe7\xe3o - CAGED",useGlobalParameter:!0,globalParameter:a.globalParameter,dependencies:[()=>Object(O.a)(a.globalParameter),()=>Object(j.a)(a.globalParameter)],wikiId:1888},c.a.createElement(u.a,null,c.a.createElement(g.K,{formProps:F,id:"tipoResponsavel",hidden:!0}),c.a.createElement(d.a,null,c.a.createElement(p.a,null,c.a.createElement(m.a,{color:"danger",className:"text-center"},"ATEN\xc7\xc3O!",c.a.createElement("br",null),"Para selecionar o respons\xe1vel autorizado do arquivo acesse a rotina: M\xf3dulo Folha de Pagamento > Manuten\xe7\xe3o > Configura\xe7\xf5es > Empresa > Aba CAGED. Para mais informa\xe7\xf5es acesse o ajuda."))),c.a.createElement("div",{className:"divider my-3 mt-5"}),c.a.createElement(b.a,{tag:d.a},c.a.createElement(p.a,null,c.a.createElement(f.a,{type:"switch",id:"primeiraDeclaracao",name:"primeiraDeclaracao",label:"Primeira Declara\xe7\xe3o",innerRef:F.register})),c.a.createElement(p.a,null,c.a.createElement(f.a,{type:"switch",id:"isCagedDiario",name:"isCagedDiario",label:"Gerar CAGED Di\xe1rio",innerRef:F.register,onChange:()=>{F.getValues().isCagedDiario?S(!0):(S(!1),F.setValue("dtCagedDiario","",!0))}}))),c.a.createElement("div",{className:"divider my-3"}),c.a.createElement(d.a,null,c.a.createElement(p.a,null,c.a.createElement(g.K,{id:"referencia",formProps:Object(r.a)(Object(r.a)({},F),{},{validation:{min:1930,max:3e3}}),isPrependLabel:!0,label:"Refer\xeancia",placeholder:"Informe a Refer\xeancia",type:g.L.REFERENCE})),x&&c.a.createElement(p.a,null,c.a.createElement(g.K,{id:"dtCagedDiario",formProps:F,isPrependLabel:!0,placeholder:"Informe a Data Gera\xe7\xe3o CAGED Di\xe1rio",label:"Data Gera\xe7\xe3o CAGED Di\xe1rio",type:g.L.DATE}))),c.a.createElement(d.a,null,c.a.createElement(p.a,null,c.a.createElement(v.a,{id:"empresas",formProps:Object(r.a)(Object(r.a)({},F),{},{validation:{required:!0}}),inputSearchProps:{selectProps:{isMulti:!0},validation:{required:!0}},placeholder:"Selecione uma ou v\xe1rias empresas.",isPrependLabel:!0,label:"Empresa(s)"}))),c.a.createElement(d.a,null,c.a.createElement(p.a,null,c.a.createElement(C.a,{id:"responsavel",formProps:Object(r.a)(Object(r.a)({},F),{},{validation:{required:!0}}),placeholder:"Informe o Respons\xe1vel",isPrependLabel:!0,label:"Respons\xe1vel pelo o Envio"}))),c.a.createElement(g.R,{handleSubmit:F.handleSubmit(e=>{const t=V();if(t.length>0){const e={message:c.a.createElement(g.C,{erros:t}),type:g.f.WARNING};g.pb.emit(g.a.SHOW,e)}else(e=>{e.empresaResponsavel=a.globalParameter.empresa,Object(E.g)(e,{errorFunction:e=>{Object(g.tc)(e,g.A)},thenFunction:()=>{D||A(Object(P.e)())}})})(e)}),handleClose:()=>((a=!0)=>{Object(g.Cb)(e,e.history,a)})()})))})},815:function(e,a,t){"use strict";function r(e){let a=null;return e.empresa||(a="Pelo menos uma empresa deve estar selecionada."),a}t.d(a,"a",function(){return r})},817:function(e,a,t){"use strict";var r=t(6),n=t(0),o=t.n(n),i=t(2),c=t(257);a.a=(e=>o.a.createElement(i.K,Object.assign({},e,{isPrependLabel:!0,inputSearchProps:Object(r.a)(Object(r.a)({},e.inputSearchProps),{},{columns:[{dataField:"codigo",text:"C\xf3digo"},{dataField:"razaoSocial",text:"Raz\xe3o Social"},{dataField:"nomeFantasia",text:"Nome Fantasia"},{dataField:"cnpj",text:"CNPJ"},{dataField:"cpf",text:"CPF"},{dataField:"cei",text:"CEI"},{dataField:"ie",text:"IE"},{dataField:"im",text:"IM"},{dataField:"grupo",text:"Grupo"}],dtoClassName:e.dtoClassName||c.a,searchViewId:"EmpresaSearchView"}),label:e.label?e.label:"Empresa",placeholder:e.placeholder?e.placeholder:"Informe a Empresa",type:i.L.INPUT_SEARCH})))},822:function(e,a,t){"use strict";function r(e){let a=null;return e.empresaMFP||(a="A empresa selecionada n\xe3o est\xe1 configurada para o M\xf3dulo Folha de Pagamento. Para configur\xe1-la acesse Manuten\xe7\xe3o > Configura\xe7\xf5es > Empresa"),a}t.d(a,"a",function(){return r})},845:function(e,a,t){"use strict";t.d(a,"a",function(){return r});const r="br.com.projetusinformatica.calima.ger.model.dto.responsavel"},846:function(e,a,t){"use strict";t.d(a,"c",function(){return o}),t.d(a,"l",function(){return i}),t.d(a,"v",function(){return c}),t.d(a,"x",function(){return s}),t.d(a,"w",function(){return l}),t.d(a,"y",function(){return u}),t.d(a,"f",function(){return d}),t.d(a,"o",function(){return p}),t.d(a,"m",function(){return m}),t.d(a,"a",function(){return b}),t.d(a,"k",function(){return f}),t.d(a,"r",function(){return g}),t.d(a,"e",function(){return O}),t.d(a,"n",function(){return j}),t.d(a,"q",function(){return E}),t.d(a,"s",function(){return P}),t.d(a,"b",function(){return v}),t.d(a,"u",function(){return C}),t.d(a,"t",function(){return h}),t.d(a,"p",function(){return F}),t.d(a,"d",function(){return D}),t.d(a,"i",function(){return A}),t.d(a,"j",function(){return R}),t.d(a,"h",function(){return N}),t.d(a,"g",function(){return x});var r=t(2);function n(){return Object(r.wb)("/mfp")}function o(e,a){Object(r.sc)(n().get("/copiarValorImpostoAnteriorAReferencia/".concat(e)),a)}function i(e,a){Object(r.sc)(n().post("/loadFotoTrabalhador",e),a)}function c(e,a,t){Object(r.sc)(n().post("/validarSalarioVinculo/".concat(e),{valor:a.valor,data:a.data}),t)}function s(e,a){Object(r.sc)(n().post("/verificarQuadroHorarioESocial",e),a)}function l(e,a){Object(r.sc)(n().post("/validarVinculoBeforePersist",e),a)}function u(e,a){Object(r.sc)(n().post("/verificarSituacaoAfastamento",e),a)}function d(e,a){Object(r.sc)(n().post("/existeCalculoVinculoTomadorServico",e),a)}function p(e,a){Object(r.sc)(n().post("/perdeuPeriodoAquisitivoFerias",e),a)}function m(e,a){Object(r.sc)(n().post("/obterDataFinalGozoFerias",e),a)}function b(e,a){Object(r.sc)(n().post("/ajustarPeriodoAquisitivoFeriasPerdidoPorAfastamentos",e),a)}function f(e,a){Object(r.sc)(n().post("/getDiaUtil",e),a)}function g(e,a){Object(r.sc)(n().post("/simularFerias",e),a)}function O(e,a){Object(r.sc)(n().post("/definirAvisoPrevio",e),a)}function j(e,a){Object(r.sc)(n().post("/obterFeriasRescisao",e),a)}function E(e,a){Object(r.sc)(n().post("/rescisaoCalculada",e),a)}function P(e,a){Object(r.sc)(n().post("/simularRescisao",e),a)}function v(e,a){Object(r.sc)(n().delete("/apagarRescisao/".concat(e)),a)}function C(e,a){Object(r.sc)(n().post("/validarEventoVinculo",e),a)}function h(e,a){Object(r.sc)(n().post("/transferirVinculo",e),a)}function F(e,a){Object(r.sc)(n().post("/reintegrarVinculo",e),a)}function D(e,a){Object(r.sc)(n().post("/criarEventosPadroes",e),a)}function A(e,a){Object(r.sc)(n().post("/gerarManad",e),a)}function R(e,a){Object(r.sc)(n().post("/gerarRais",e),a)}function N(e,a){Object(r.sc)(n().post("/gerarDirf",e),a)}function x(e,a){Object(r.sc)(n().post("/gerarCaged",e),a)}},847:function(e,a,t){"use strict";var r=t(6),n=t(0),o=t.n(n),i=t(2),c=t(845);a.a=(e=>o.a.createElement(i.K,Object.assign({},e,{isPrependLabel:!0,inputSearchProps:Object(r.a)(Object(r.a)({},e.inputSearchProps),{},{columns:[{dataField:"nome",text:"Nome"},{dataField:"cpf",text:"CPF"},{dataField:"cnpj",text:"CNPJ"},{dataField:"cei",text:"CEI"},{dataField:"tipo",text:"Tipo"},{dataField:"telefone",text:"Telefone"},{dataField:"email",text:"E-mail"}],dtoClassName:c.a,searchViewId:"ResponsavelSearchView"}),label:e.label?e.label:"Respons\xe1vel",placeholder:e.placeholder?e.placeholder:"Informe o Respons\xe1vel",type:i.L.INPUT_SEARCH})))},859:function(e,a,t){"use strict";var r=t(3),n=t(9),o=t(20),i=t(0),c=t.n(i),s=t(1),l=t.n(s),u=t(8),d=t.n(u),p=t(5),m=t(56),b={children:l.a.node,className:l.a.string,closeClassName:l.a.string,closeAriaLabel:l.a.string,cssModule:l.a.object,color:l.a.string,fade:l.a.bool,isOpen:l.a.bool,toggle:l.a.func,tag:p.q,transition:l.a.shape(m.a.propTypes),innerRef:l.a.oneOfType([l.a.object,l.a.string,l.a.func])},f={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:Object(o.a)({},m.a.defaultProps,{unmountOnExit:!0})};function g(e){var a=e.className,t=e.closeClassName,i=e.closeAriaLabel,s=e.cssModule,l=e.tag,u=e.color,b=e.isOpen,f=e.toggle,g=e.children,O=e.transition,j=e.fade,E=e.innerRef,P=Object(n.a)(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"]),v=Object(p.m)(d()(a,"alert","alert-"+u,{"alert-dismissible":f}),s),C=Object(p.m)(d()("close",t),s),h=Object(o.a)({},m.a.defaultProps,{},O,{baseClass:j?O.baseClass:"",timeout:j?O.timeout:0});return c.a.createElement(m.a,Object(r.a)({},P,h,{tag:l,className:v,in:b,role:"alert",innerRef:E}),f?c.a.createElement("button",{type:"button",className:C,"aria-label":i,onClick:f},c.a.createElement("span",{"aria-hidden":"true"},"\xd7")):null,g)}g.propTypes=b,g.defaultProps=f,a.a=g}}]);
//# sourceMappingURL=171.5200bcb0.chunk.js.map