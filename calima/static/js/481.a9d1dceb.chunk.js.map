{"version":3,"sources":["views/pages/mfp/pagamentoCooperativa/PagamentoCooperativaEditView.tsx","models/dtos/mfp/pagamentoCooperativa.ts"],"names":["PagamentoCooperativaEditView","props","globalReducer","useSelector","state","selectedItem","getSelectedItem","empresaMFPDTO","globalParameter","empresaMFP","formProps","useForm","defaultValues","Object","C_Program_Files_x86_Jenkins_workspace_Calima_react_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__","id","aliquota","valor","mode","_useState","useState","_useState2","C_Program_Files_x86_Jenkins_workspace_Calima_react_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","isValorAliquota","setIsValorAliquota","calcularValorAliquota","getValues","useEffect","setTimeout","react__WEBPACK_IMPORTED_MODULE_2___default","a","createElement","summer__WEBPACK_IMPORTED_MODULE_9__","title","editViewProps","dtoClassName","CLASS_NAME","reactstrap__WEBPACK_IMPORTED_MODULE_5__","reactstrap__WEBPACK_IMPORTED_MODULE_6__","hidden","validation","required","isPrependLabel","label","placeholder","type","InputType","REFERENCE","onChange","NUMBER","min","max","reactstrap__WEBPACK_IMPORTED_MODULE_7__","className","toLocaleString","style","currency","reactstrap__WEBPACK_IMPORTED_MODULE_8__","color","value","__webpack_require__","d","__webpack_exports__"],"mappings":"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","file":"static/js/481.a9d1dceb.chunk.js","sourcesContent":["import React, { FC, useEffect, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useSelector } from 'react-redux';\r\nimport { RouteComponentProps } from 'react-router';\r\nimport { Card, Col, Progress, Row } from 'reactstrap';\r\nimport { EditForm, EditViewProps, getSelectedItem, InputGroupInline, InputType, WindowComponent } from 'summer';\r\nimport { CLASS_NAME, PagamentoCooperativa } from '../../../../models/dtos/mfp/pagamentoCooperativa';\r\nimport { Reducers } from '../../../../store/ducks';\r\nimport { GlobalState } from '../../../../store/ducks/global.duck';\r\n\r\ninterface PagamentoCooperativaEditViewProps extends EditViewProps<PagamentoCooperativa> {}\r\n\r\nconst PagamentoCooperativaEditView: FC<PagamentoCooperativaEditViewProps & RouteComponentProps> = props => {\r\n  const globalReducer = useSelector<Reducers, GlobalState>(state => state.globalReducer);\r\n  const selectedItem = getSelectedItem(props);\r\n  const empresaMFPDTO = globalReducer.globalParameter.empresaMFP;\r\n  const formProps = useForm<PagamentoCooperativa>({\r\n    defaultValues: { empresaMFP: { id: empresaMFPDTO.id }, aliquota: 0, valor: 0, ...selectedItem },\r\n    mode: 'onBlur',\r\n  });\r\n\r\n  const [isValorAliquota, setIsValorAliquota] = useState(0);\r\n\r\n  const calcularValorAliquota = () => {\r\n    setIsValorAliquota(formProps.getValues().valor * (formProps.getValues().aliquota / 100));\r\n  };\r\n\r\n  useEffect(\r\n    () => {\r\n      setTimeout(calcularValorAliquota, 700);\r\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    []\r\n  );\r\n\r\n  return (\r\n    <WindowComponent title=\"Manutenção de Pagamento à Cooperativa\">\r\n      <EditForm formProps={formProps} editViewProps={props} dtoClassName={CLASS_NAME}>\r\n        <Row>\r\n          <Col>\r\n            <InputGroupInline hidden={true} formProps={formProps} id=\"empresaMFP.id\" />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <InputGroupInline\r\n              formProps={{ ...formProps, validation: { required: true } }}\r\n              id=\"referencia\"\r\n              isPrependLabel={true}\r\n              label=\"Referência\"\r\n              placeholder=\"Informe a Referência\"\r\n              type={InputType.REFERENCE}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <InputGroupInline\r\n              formProps={formProps}\r\n              id=\"valor\"\r\n              isPrependLabel={true}\r\n              label=\"Valor\"\r\n              placeholder=\"Informe o valor.\"\r\n              onChange={calcularValorAliquota}\r\n              type={InputType.NUMBER}\r\n            />\r\n          </Col>\r\n          <Col>\r\n            <InputGroupInline\r\n              formProps={{ ...formProps, validation: { min: 0, max: 100 } }}\r\n              id=\"aliquota\"\r\n              isPrependLabel={true}\r\n              label=\"Alíquota\"\r\n              placeholder=\"Informe a Alíquota.\"\r\n              onChange={calcularValorAliquota}\r\n              type={InputType.NUMBER}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <Card className=\"card-box mb-3\">\r\n              <Col className=\"p-10\">\r\n                <div className=\"divider-v divider-v-lg\" />\r\n                <div className=\"d-flex align-items-center pb-4 justify-content-between\">\r\n                  <div>\r\n                    <div className=\"font-weight-bold\">Alíquota</div>\r\n                    <span className=\"text-black-50 d-block\">Valor a recolher</span>\r\n                  </div>\r\n                  <div className=\"display-4 font-weight-bold text-info\">\r\n                    {isValorAliquota.toLocaleString('pt-br', { style: 'currency', currency: 'BRL' })}\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <Progress className=\"progress-sm progress-bar-rounded\" color=\"info\" value={formProps.getValues().aliquota} />\r\n                  <div className=\"align-box-row progress-bar--label mt-2 text-muted\">\r\n                    <div className=\"ml-auto\">100%</div>\r\n                  </div>\r\n                </div>\r\n              </Col>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </EditForm>\r\n    </WindowComponent>\r\n  );\r\n};\r\n\r\nexport default PagamentoCooperativaEditView;\r\n","import { Basic } from 'summer';\r\nimport { EmpresaMFP } from './empresaMFP';\r\n\r\nexport interface PagamentoCooperativa extends Basic {\r\n  empresaMFP?: EmpresaMFP;\r\n  referencia?: string;\r\n  valor?: number;\r\n  aliquota?: number;\r\n}\r\n\r\nexport const CLASS_NAME = 'br.com.projetusinformatica.calima.mfp.model.dto.pagamentocooperativa';\r\n"],"sourceRoot":""}